(window.webpackJsonp=window.webpackJsonp||[]).push([[112],{523:function(t,a,s){"use strict";s.r(a);var r=s(38),e=Object(r.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"支持一键放大组件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#支持一键放大组件"}},[t._v("#")]),t._v(" 支持一键放大组件")]),t._v(" "),a("h2",{attrs:{id:"背景"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#背景"}},[t._v("#")]),t._v(" 背景")]),t._v(" "),a("p",[t._v("由于页面结构的一些限制，某些表格、树会挤在较小的空间里，导致操作不方便。")]),t._v(" "),a("p",[t._v("所以这里通过点击按钮，弹窗放大该组件的方式，解决这类问题。")]),t._v(" "),a("h2",{attrs:{id:"使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用"}},[t._v("#")]),t._v(" 使用")]),t._v(" "),a("p",[t._v("目前只支持ext组件放大。")]),t._v(" "),a("p",[t._v("使用很简单，调用"),a("code",[t._v("useZoomInComponent")]),t._v("，传入弹窗标题、宽高以及需要放大的组件即可。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" getZoomInIcon "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("useZoomInComponent")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("title")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'xxx'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("width")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("850")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("height")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("580")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("extComponent")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("然后在需要添加放大按钮的工具栏中，使用返回的"),a("code",[t._v("getZoomInIcon")]),t._v("去生成按钮，按钮已集成了放大的逻辑。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("tools")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getZoomInIcon")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),a("p",[t._v("通过以上几行代码即可实现完整放大功能，且无需关心数据同步的问题。")]),t._v(" "),a("h2",{attrs:{id:"效果"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#效果"}},[t._v("#")]),t._v(" 效果")]),t._v(" "),a("h2",{attrs:{id:"原理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#原理"}},[t._v("#")]),t._v(" 原理")]),t._v(" "),a("h3",{attrs:{id:"数据同步"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#数据同步"}},[t._v("#")]),t._v(" 数据同步")]),t._v(" "),a("p",[t._v("实现上，没有通过重新初始化去创建新组件，而是通过重新渲染的方式，只改变渲染位置，不改变数据，达到数据同步的效果。")]),t._v(" "),a("h3",{attrs:{id:"放大流程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#放大流程"}},[t._v("#")]),t._v(" 放大流程")]),t._v(" "),a("h4",{attrs:{id:"渲染"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#渲染"}},[t._v("#")]),t._v(" 渲染")]),t._v(" "),a("p",[t._v("通过查看ext源码，重新render需要现将rendered置为false")]),t._v(" "),a("p",[t._v("然后调用vue的弹窗，在弹窗容器mounted时，将ext组件render到该容器")]),t._v(" "),a("p",[t._v("在弹窗关闭时，将ext组件再render回之前记录下的原始容器中")]),t._v(" "),a("h4",{attrs:{id:"解决重复监听事件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#解决重复监听事件"}},[t._v("#")]),t._v(" 解决重复监听事件")]),t._v(" "),a("p",[t._v("表格组件在render后会监听点击、双击等事件，多次渲染就会被多次监听")]),t._v(" "),a("p",[t._v("所以在放大前，将该组件的mon函数置为空函数，渲染后再改回为原函数")]),t._v(" "),a("h4",{attrs:{id:"解决行编辑渲染"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#解决行编辑渲染"}},[t._v("#")]),t._v(" 解决行编辑渲染")]),t._v(" "),a("p",[t._v("行编辑组件，由于做了单例化，所以渲染时也许手动将其的rendered置为false")]),t._v(" "),a("h4",{attrs:{id:"勾选框"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#勾选框"}},[t._v("#")]),t._v(" 勾选框")]),t._v(" "),a("p",[t._v("勾选框同样在渲染时会重复监听事件，我们采用同样的策略，将其的init函数置为空函数，放大后再还原")]),t._v(" "),a("h2",{attrs:{id:"总结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[t._v("#")]),t._v(" 总结")]),t._v(" "),a("p",[t._v("通过以上封装，几行代码即可实现指定组件的放大，且无需关心数据同步问题。")])])}),[],!1,null,null,null);a.default=e.exports}}]);