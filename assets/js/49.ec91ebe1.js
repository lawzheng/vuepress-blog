(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{457:function(e,t,a){"use strict";a.r(t);var s=a(38),v=Object(s.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"ext-debug模式下鼠标hover组件名"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ext-debug模式下鼠标hover组件名"}},[e._v("#")]),e._v(" ext Debug模式下鼠标hover组件名")]),e._v(" "),t("h2",{attrs:{id:"背景"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#背景"}},[e._v("#")]),e._v(" 背景")]),e._v(" "),t("p",[e._v("在控制器项目中，有些组件封装了很多层，找起来十分费劲。")]),e._v(" "),t("p",[e._v("像vue的话有devtools，可以方便的看到组件和dom的对应关系。")]),e._v(" "),t("p",[e._v("写个devtools有点难，于是诞生了鼠标hover时显示当前组件名的想法，下面来说下怎么做。")]),e._v(" "),t("h2",{attrs:{id:"实现"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#实现"}},[e._v("#")]),e._v(" 实现")]),e._v(" "),t("h3",{attrs:{id:"思路"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#思路"}},[e._v("#")]),e._v(" 思路")]),e._v(" "),t("p",[e._v("目前控制器的项目代码结构有page（放页面的地方），business（放业务组件的地方）。")]),e._v(" "),t("p",[e._v("一般两文件夹里的子文件夹都是按页面分好类的，这就给了我们操作空间。")]),e._v(" "),t("p",[e._v("在当前页面加载后，去对应的业务组件文件夹中，根据组件原型比较找到其组件名，在其dom上添加title，使鼠标hover时能显示对应的组件名。")]),e._v(" "),t("h3",{attrs:{id:"记录页面名"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#记录页面名"}},[e._v("#")]),e._v(" 记录页面名")]),e._v(" "),t("p",[e._v("作为一个单页面应用，之前并没有记录当前页面名，于是在"),t("code",[e._v("WLAN/js/pages/TabCompositePage.js")]),e._v("的"),t("code",[e._v("_handleTabChange")]),e._v("方法中，在切换页面时记录当前页面名。")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("SF.moduleName = moduleName;\n")])])]),t("h3",{attrs:{id:"寻找组件名"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#寻找组件名"}},[e._v("#")]),e._v(" 寻找组件名")]),e._v(" "),t("p",[e._v("观察发现，每个组件都继承自"),t("code",[e._v("Ext.Container")]),e._v("，于是通过"),t("code",[e._v("Ext.override")]),e._v("重写Container的afterRender方法，在渲染好dom后执行寻找组件名操作。")]),e._v(" "),t("p",[e._v("当然，前提是开了debug模式 "),t("code",[e._v("SF.debugMode")])]),e._v(" "),t("p",[e._v("通过page和business关系，找到当前页面的组件所在文件夹，在通过window一层一层找到该组件列表（business的组件都挂在了全局变量上）")]),e._v(" "),t("p",[e._v("然后通过原型比较找到当前组件的组件名，给其dom的title加上该组件名，即实现了需求。")]),e._v(" "),t("h2",{attrs:{id:"缺点"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#缺点"}},[e._v("#")]),e._v(" 缺点")]),e._v(" "),t("ol",[t("li",[e._v("当组件没按规范写在对应文件夹时，存在找不到的情况。")]),e._v(" "),t("li",[e._v("没有抽离成组件的，直接在页面new出来的，暂时无法识别到。")])])])}),[],!1,null,null,null);t.default=v.exports}}]);