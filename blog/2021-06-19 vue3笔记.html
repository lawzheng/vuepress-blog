<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Vue3 | Lawz&#39;s blog</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/vuepress-blog/logo.jpg">
    <meta name="description" content="罗政的个人博客">
    
    <link rel="preload" href="/vuepress-blog/assets/css/0.styles.a53365af.css" as="style"><link rel="preload" href="/vuepress-blog/assets/js/app.c1773bf8.js" as="script"><link rel="preload" href="/vuepress-blog/assets/js/2.52cbf88a.js" as="script"><link rel="preload" href="/vuepress-blog/assets/js/3.a1060374.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/js/10.da837890.js"><link rel="prefetch" href="/vuepress-blog/assets/js/11.f2579ab1.js"><link rel="prefetch" href="/vuepress-blog/assets/js/12.5a382587.js"><link rel="prefetch" href="/vuepress-blog/assets/js/13.ffc457b5.js"><link rel="prefetch" href="/vuepress-blog/assets/js/14.bd885330.js"><link rel="prefetch" href="/vuepress-blog/assets/js/15.16953585.js"><link rel="prefetch" href="/vuepress-blog/assets/js/16.1bce6287.js"><link rel="prefetch" href="/vuepress-blog/assets/js/17.d6d56cd7.js"><link rel="prefetch" href="/vuepress-blog/assets/js/18.3996138b.js"><link rel="prefetch" href="/vuepress-blog/assets/js/19.d7995de0.js"><link rel="prefetch" href="/vuepress-blog/assets/js/20.ca632186.js"><link rel="prefetch" href="/vuepress-blog/assets/js/21.86571bbc.js"><link rel="prefetch" href="/vuepress-blog/assets/js/22.e7dd2c67.js"><link rel="prefetch" href="/vuepress-blog/assets/js/23.5fd56a4d.js"><link rel="prefetch" href="/vuepress-blog/assets/js/24.decc4e21.js"><link rel="prefetch" href="/vuepress-blog/assets/js/25.f3bf686a.js"><link rel="prefetch" href="/vuepress-blog/assets/js/26.35e25ac6.js"><link rel="prefetch" href="/vuepress-blog/assets/js/27.a2a809b5.js"><link rel="prefetch" href="/vuepress-blog/assets/js/28.778a9565.js"><link rel="prefetch" href="/vuepress-blog/assets/js/29.4219c83b.js"><link rel="prefetch" href="/vuepress-blog/assets/js/30.e9b4bf42.js"><link rel="prefetch" href="/vuepress-blog/assets/js/31.6a9fb1ef.js"><link rel="prefetch" href="/vuepress-blog/assets/js/32.96fc20cd.js"><link rel="prefetch" href="/vuepress-blog/assets/js/33.544b532a.js"><link rel="prefetch" href="/vuepress-blog/assets/js/34.eeae8358.js"><link rel="prefetch" href="/vuepress-blog/assets/js/35.eb6f1a52.js"><link rel="prefetch" href="/vuepress-blog/assets/js/36.07912d58.js"><link rel="prefetch" href="/vuepress-blog/assets/js/37.47575c3f.js"><link rel="prefetch" href="/vuepress-blog/assets/js/38.480ffe04.js"><link rel="prefetch" href="/vuepress-blog/assets/js/39.eb306d98.js"><link rel="prefetch" href="/vuepress-blog/assets/js/4.0a113e6e.js"><link rel="prefetch" href="/vuepress-blog/assets/js/40.ce6dcbc4.js"><link rel="prefetch" href="/vuepress-blog/assets/js/41.89e9a0b6.js"><link rel="prefetch" href="/vuepress-blog/assets/js/42.2fbf956e.js"><link rel="prefetch" href="/vuepress-blog/assets/js/43.c3b634e5.js"><link rel="prefetch" href="/vuepress-blog/assets/js/44.1192d919.js"><link rel="prefetch" href="/vuepress-blog/assets/js/45.a05fdcd7.js"><link rel="prefetch" href="/vuepress-blog/assets/js/46.2d8add9d.js"><link rel="prefetch" href="/vuepress-blog/assets/js/47.929dbff5.js"><link rel="prefetch" href="/vuepress-blog/assets/js/48.779841a5.js"><link rel="prefetch" href="/vuepress-blog/assets/js/49.9b6b12ce.js"><link rel="prefetch" href="/vuepress-blog/assets/js/5.31059d95.js"><link rel="prefetch" href="/vuepress-blog/assets/js/50.468d3901.js"><link rel="prefetch" href="/vuepress-blog/assets/js/51.fdb1d9d4.js"><link rel="prefetch" href="/vuepress-blog/assets/js/52.65822492.js"><link rel="prefetch" href="/vuepress-blog/assets/js/53.a227e173.js"><link rel="prefetch" href="/vuepress-blog/assets/js/54.31d66f1b.js"><link rel="prefetch" href="/vuepress-blog/assets/js/55.701d3d06.js"><link rel="prefetch" href="/vuepress-blog/assets/js/56.a76cb74f.js"><link rel="prefetch" href="/vuepress-blog/assets/js/57.f28cd8f7.js"><link rel="prefetch" href="/vuepress-blog/assets/js/58.d8776eb3.js"><link rel="prefetch" href="/vuepress-blog/assets/js/59.fc5ac49d.js"><link rel="prefetch" href="/vuepress-blog/assets/js/6.21a47d84.js"><link rel="prefetch" href="/vuepress-blog/assets/js/60.88dd93ff.js"><link rel="prefetch" href="/vuepress-blog/assets/js/61.5e346d94.js"><link rel="prefetch" href="/vuepress-blog/assets/js/62.03544d5f.js"><link rel="prefetch" href="/vuepress-blog/assets/js/63.4595b330.js"><link rel="prefetch" href="/vuepress-blog/assets/js/64.fb3551c2.js"><link rel="prefetch" href="/vuepress-blog/assets/js/65.73d5482d.js"><link rel="prefetch" href="/vuepress-blog/assets/js/66.9f545f4b.js"><link rel="prefetch" href="/vuepress-blog/assets/js/67.102e9f8b.js"><link rel="prefetch" href="/vuepress-blog/assets/js/68.26f0fa3f.js"><link rel="prefetch" href="/vuepress-blog/assets/js/69.f9785ec8.js"><link rel="prefetch" href="/vuepress-blog/assets/js/7.58c9b76c.js"><link rel="prefetch" href="/vuepress-blog/assets/js/70.63cec11c.js"><link rel="prefetch" href="/vuepress-blog/assets/js/71.bd81726f.js"><link rel="prefetch" href="/vuepress-blog/assets/js/72.5638da49.js"><link rel="prefetch" href="/vuepress-blog/assets/js/73.e158921c.js"><link rel="prefetch" href="/vuepress-blog/assets/js/74.98acccf1.js"><link rel="prefetch" href="/vuepress-blog/assets/js/75.7ac1fc1d.js"><link rel="prefetch" href="/vuepress-blog/assets/js/76.dfab1252.js"><link rel="prefetch" href="/vuepress-blog/assets/js/77.be449df0.js"><link rel="prefetch" href="/vuepress-blog/assets/js/78.178a1ba7.js"><link rel="prefetch" href="/vuepress-blog/assets/js/79.86d04b52.js"><link rel="prefetch" href="/vuepress-blog/assets/js/8.2c655620.js"><link rel="prefetch" href="/vuepress-blog/assets/js/80.d6b8ae26.js"><link rel="prefetch" href="/vuepress-blog/assets/js/81.f69c9357.js"><link rel="prefetch" href="/vuepress-blog/assets/js/82.140b3fd7.js"><link rel="prefetch" href="/vuepress-blog/assets/js/83.182dc413.js"><link rel="prefetch" href="/vuepress-blog/assets/js/84.86280bf0.js"><link rel="prefetch" href="/vuepress-blog/assets/js/85.7264653a.js"><link rel="prefetch" href="/vuepress-blog/assets/js/9.e41b2676.js">
    <link rel="stylesheet" href="/vuepress-blog/assets/css/0.styles.a53365af.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/vuepress-blog/" class="home-link router-link-active"><!----> <span class="site-name">Lawz's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/vuepress-blog/blog/2022-01-02 vuePress博客自动构建gitpage.html" class="nav-link">
  博客
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="知识分类" class="dropdown-title"><span class="title">知识分类</span> <span class="arrow down"></span></button> <button type="button" aria-label="知识分类" class="mobile-dropdown-title"><span class="title">知识分类</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuepress-blog/cate/01-Html.html" class="nav-link">
  Html
</a></li><li class="dropdown-item"><!----> <a href="/vuepress-blog/cate/02-Css.html" class="nav-link">
  Css
</a></li><li class="dropdown-item"><!----> <a href="/vuepress-blog/cate/03-Js.html" class="nav-link">
  Js
</a></li><li class="dropdown-item"><!----> <a href="/vuepress-blog/cate/04-Browser.html" class="nav-link">
  Browser
</a></li><li class="dropdown-item"><!----> <a href="/vuepress-blog/cate/05-Vue.html" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/vuepress-blog/cate/06-React.html" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/vuepress-blog/cate/07-Node.html" class="nav-link">
  Node
</a></li><li class="dropdown-item"><!----> <a href="/vuepress-blog/cate/08-RegEx.html" class="nav-link">
  RegEx
</a></li><li class="dropdown-item"><!----> <a href="/vuepress-blog/cate/09-IDE.html" class="nav-link">
  IDE
</a></li><li class="dropdown-item"><!----> <a href="/vuepress-blog/cate/10-算法.html" class="nav-link">
  算法
</a></li><li class="dropdown-item"><!----> <a href="/vuepress-blog/cate/11-Git.html" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/vuepress-blog/cate/12-Nginx.html" class="nav-link">
  Nginx
</a></li><li class="dropdown-item"><!----> <a href="/vuepress-blog/cate/13-Typescript.html" class="nav-link">
  Typescript
</a></li><li class="dropdown-item"><!----> <a href="/vuepress-blog/cate/14-webpack.html" class="nav-link">
  webpack
</a></li><li class="dropdown-item"><!----> <a href="/vuepress-blog/cate/15-小程序.html" class="nav-link">
  小程序
</a></li><li class="dropdown-item"><!----> <a href="/vuepress-blog/cate/16-Hybird.html" class="nav-link">
  Hybird
</a></li><li class="dropdown-item"><!----> <a href="/vuepress-blog/cate/17-安全.html" class="nav-link">
  安全
</a></li><li class="dropdown-item"><!----> <a href="/vuepress-blog/cate/18-面试.html" class="nav-link">
  面试
</a></li><li class="dropdown-item"><!----> <a href="/vuepress-blog/cate/19-网络.html" class="nav-link">
  网络
</a></li><li class="dropdown-item"><!----> <a href="/vuepress-blog/cate/20-知识回顾.html" class="nav-link">
  知识回顾
</a></li></ul></div></div><div class="nav-item"><a href="/vuepress-blog/book/2021-03-28 香帅财富报告.html" class="nav-link">
  阅读
</a></div><div class="nav-item"><a href="/vuepress-blog/webArchitect/01-架构师思维.html" class="nav-link">
  web架构师
</a></div><div class="nav-item"><a href="https://github.com/lawzheng" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/vuepress-blog/blog/2022-01-02 vuePress博客自动构建gitpage.html" class="nav-link">
  博客
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="知识分类" class="dropdown-title"><span class="title">知识分类</span> <span class="arrow down"></span></button> <button type="button" aria-label="知识分类" class="mobile-dropdown-title"><span class="title">知识分类</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuepress-blog/cate/01-Html.html" class="nav-link">
  Html
</a></li><li class="dropdown-item"><!----> <a href="/vuepress-blog/cate/02-Css.html" class="nav-link">
  Css
</a></li><li class="dropdown-item"><!----> <a href="/vuepress-blog/cate/03-Js.html" class="nav-link">
  Js
</a></li><li class="dropdown-item"><!----> <a href="/vuepress-blog/cate/04-Browser.html" class="nav-link">
  Browser
</a></li><li class="dropdown-item"><!----> <a href="/vuepress-blog/cate/05-Vue.html" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/vuepress-blog/cate/06-React.html" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/vuepress-blog/cate/07-Node.html" class="nav-link">
  Node
</a></li><li class="dropdown-item"><!----> <a href="/vuepress-blog/cate/08-RegEx.html" class="nav-link">
  RegEx
</a></li><li class="dropdown-item"><!----> <a href="/vuepress-blog/cate/09-IDE.html" class="nav-link">
  IDE
</a></li><li class="dropdown-item"><!----> <a href="/vuepress-blog/cate/10-算法.html" class="nav-link">
  算法
</a></li><li class="dropdown-item"><!----> <a href="/vuepress-blog/cate/11-Git.html" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/vuepress-blog/cate/12-Nginx.html" class="nav-link">
  Nginx
</a></li><li class="dropdown-item"><!----> <a href="/vuepress-blog/cate/13-Typescript.html" class="nav-link">
  Typescript
</a></li><li class="dropdown-item"><!----> <a href="/vuepress-blog/cate/14-webpack.html" class="nav-link">
  webpack
</a></li><li class="dropdown-item"><!----> <a href="/vuepress-blog/cate/15-小程序.html" class="nav-link">
  小程序
</a></li><li class="dropdown-item"><!----> <a href="/vuepress-blog/cate/16-Hybird.html" class="nav-link">
  Hybird
</a></li><li class="dropdown-item"><!----> <a href="/vuepress-blog/cate/17-安全.html" class="nav-link">
  安全
</a></li><li class="dropdown-item"><!----> <a href="/vuepress-blog/cate/18-面试.html" class="nav-link">
  面试
</a></li><li class="dropdown-item"><!----> <a href="/vuepress-blog/cate/19-网络.html" class="nav-link">
  网络
</a></li><li class="dropdown-item"><!----> <a href="/vuepress-blog/cate/20-知识回顾.html" class="nav-link">
  知识回顾
</a></li></ul></div></div><div class="nav-item"><a href="/vuepress-blog/book/2021-03-28 香帅财富报告.html" class="nav-link">
  阅读
</a></div><div class="nav-item"><a href="/vuepress-blog/webArchitect/01-架构师思维.html" class="nav-link">
  web架构师
</a></div><div class="nav-item"><a href="https://github.com/lawzheng" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/vuepress-blog/blog/2022-01-02 vuePress博客自动构建gitpage.html" class="sidebar-link">vuePress博客自动构建gitpage</a></li><li><a href="/vuepress-blog/blog/2021-12-02 N合一版本总结.html" class="sidebar-link">N合一版本总结</a></li><li><a href="/vuepress-blog/blog/2021-12-01 控制器中交换机代码优化.html" class="sidebar-link">控制器中交换机代码优化</a></li><li><a href="/vuepress-blog/blog/2021-11-27 升win11指南.html" class="sidebar-link">升win11指南</a></li><li><a href="/vuepress-blog/blog/2021-11-25 xmind转自测系统导入.html" class="sidebar-link">xmind转自测系统导入格式</a></li><li><a href="/vuepress-blog/blog/2021-11-24 自动寻找未翻译文字.html" class="sidebar-link">自动寻找未翻译文字</a></li><li><a href="/vuepress-blog/blog/2021-08-31 vue2升vue3笔记.html" class="sidebar-link">vue2升vue3笔记</a></li><li><a href="/vuepress-blog/blog/2021-08-27 拓扑图封装.html" class="sidebar-link">拓扑图创新</a></li><li><a href="/vuepress-blog/blog/2021-08-06 自动检测页面缺失依赖及自动测试页面是否报错.html" class="sidebar-link">自动检测页面缺失依赖及自动测试页面是否报错</a></li><li><a href="/vuepress-blog/blog/2021-07-13 webpack5踩坑记录.html" class="sidebar-link">webpack5踩坑记录</a></li><li><a href="/vuepress-blog/blog/2021-07-05 手写qtip插件.html" class="sidebar-link">手写qtip插件</a></li><li><a href="/vuepress-blog/blog/2021-06-30 web端首页优化.html" class="sidebar-link">web端首页优化</a></li><li><a href="/vuepress-blog/blog/2021-06-21 gulp手写注入插件.html" class="sidebar-link">gulp手写注入插件</a></li><li><a href="/vuepress-blog/blog/2021-06-19 vue3笔记.html" class="active sidebar-link">Vue3</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuepress-blog/blog/2021-06-19 vue3笔记.html#为什么用vue3" class="sidebar-link">为什么用Vue3</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuepress-blog/blog/2021-06-19 vue3笔记.html#响应式proxy" class="sidebar-link">响应式Proxy</a></li><li class="sidebar-sub-header"><a href="/vuepress-blog/blog/2021-06-19 vue3笔记.html#性能优化" class="sidebar-link">性能优化</a></li><li class="sidebar-sub-header"><a href="/vuepress-blog/blog/2021-06-19 vue3笔记.html#tree-shaking" class="sidebar-link">tree-shaking</a></li><li class="sidebar-sub-header"><a href="/vuepress-blog/blog/2021-06-19 vue3笔记.html#composition-api" class="sidebar-link">Composition API</a></li><li class="sidebar-sub-header"><a href="/vuepress-blog/blog/2021-06-19 vue3笔记.html#更好的ts-支持" class="sidebar-link">更好的ts 支持</a></li><li class="sidebar-sub-header"><a href="/vuepress-blog/blog/2021-06-19 vue3笔记.html#custom-renderer-api" class="sidebar-link">Custom Renderer API</a></li><li class="sidebar-sub-header"><a href="/vuepress-blog/blog/2021-06-19 vue3笔记.html#其它" class="sidebar-link">其它</a></li></ul></li><li class="sidebar-sub-header"><a href="/vuepress-blog/blog/2021-06-19 vue3笔记.html#初始化项目" class="sidebar-link">初始化项目</a></li><li class="sidebar-sub-header"><a href="/vuepress-blog/blog/2021-06-19 vue3笔记.html#使用tsx" class="sidebar-link">使用tsx</a></li><li class="sidebar-sub-header"><a href="/vuepress-blog/blog/2021-06-19 vue3笔记.html#新api" class="sidebar-link">新API</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuepress-blog/blog/2021-06-19 vue3笔记.html#setup" class="sidebar-link">setup</a></li><li class="sidebar-sub-header"><a href="/vuepress-blog/blog/2021-06-19 vue3笔记.html#生命周期钩子函数" class="sidebar-link">生命周期钩子函数</a></li><li class="sidebar-sub-header"><a href="/vuepress-blog/blog/2021-06-19 vue3笔记.html#响应式系统-api" class="sidebar-link">响应式系统 API</a></li><li class="sidebar-sub-header"><a href="/vuepress-blog/blog/2021-06-19 vue3笔记.html#事件emit" class="sidebar-link">事件emit</a></li><li class="sidebar-sub-header"><a href="/vuepress-blog/blog/2021-06-19 vue3笔记.html#模板-refs" class="sidebar-link">模板 Refs</a></li><li class="sidebar-sub-header"><a href="/vuepress-blog/blog/2021-06-19 vue3笔记.html#provide-inject" class="sidebar-link">Provide &amp;&amp; Inject</a></li><li class="sidebar-sub-header"><a href="/vuepress-blog/blog/2021-06-19 vue3笔记.html#响应式系统工具集" class="sidebar-link">响应式系统工具集</a></li><li class="sidebar-sub-header"><a href="/vuepress-blog/blog/2021-06-19 vue3笔记.html#v-model" class="sidebar-link">v-model</a></li><li class="sidebar-sub-header"><a href="/vuepress-blog/blog/2021-06-19 vue3笔记.html#自定义指令更改" class="sidebar-link">自定义指令更改</a></li><li class="sidebar-sub-header"><a href="/vuepress-blog/blog/2021-06-19 vue3笔记.html#teleport" class="sidebar-link">Teleport</a></li><li class="sidebar-sub-header"><a href="/vuepress-blog/blog/2021-06-19 vue3笔记.html#suspense" class="sidebar-link">Suspense</a></li><li class="sidebar-sub-header"><a href="/vuepress-blog/blog/2021-06-19 vue3笔记.html#fragment" class="sidebar-link">Fragment</a></li><li class="sidebar-sub-header"><a href="/vuepress-blog/blog/2021-06-19 vue3笔记.html#全局方法" class="sidebar-link">全局方法</a></li></ul></li><li class="sidebar-sub-header"><a href="/vuepress-blog/blog/2021-06-19 vue3笔记.html#改动的api" class="sidebar-link">改动的api</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuepress-blog/blog/2021-06-19 vue3笔记.html#移除过滤器filters" class="sidebar-link">移除过滤器filters</a></li><li class="sidebar-sub-header"><a href="/vuepress-blog/blog/2021-06-19 vue3笔记.html#废弃on-off-once实例方法" class="sidebar-link">废弃on，off，once实例方法</a></li><li class="sidebar-sub-header"><a href="/vuepress-blog/blog/2021-06-19 vue3笔记.html#移除-set、-delete" class="sidebar-link">移除$set、$delete</a></li></ul></li><li class="sidebar-sub-header"><a href="/vuepress-blog/blog/2021-06-19 vue3笔记.html#router" class="sidebar-link">Router</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuepress-blog/blog/2021-06-19 vue3笔记.html#vue2-x版本" class="sidebar-link">Vue2.x版本</a></li><li class="sidebar-sub-header"><a href="/vuepress-blog/blog/2021-06-19 vue3笔记.html#vue3版本" class="sidebar-link">Vue3版本</a></li></ul></li><li class="sidebar-sub-header"><a href="/vuepress-blog/blog/2021-06-19 vue3笔记.html#vuex" class="sidebar-link">VueX</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuepress-blog/blog/2021-06-19 vue3笔记.html#vue2-x版本-2" class="sidebar-link">Vue2.x版本</a></li><li class="sidebar-sub-header"><a href="/vuepress-blog/blog/2021-06-19 vue3笔记.html#vue3版本-2" class="sidebar-link">Vue3版本</a></li></ul></li><li class="sidebar-sub-header"><a href="/vuepress-blog/blog/2021-06-19 vue3笔记.html#vue2迁移" class="sidebar-link">Vue2迁移</a></li><li class="sidebar-sub-header"><a href="/vuepress-blog/blog/2021-06-19 vue3笔记.html#参考文档" class="sidebar-link">参考文档</a></li></ul></li><li><a href="/vuepress-blog/blog/2021-06-10 js手写代码系列.html" class="sidebar-link">js手写代码系列</a></li><li><a href="/vuepress-blog/blog/2021-06-04 魔改G6.js imageMinimap.html" class="sidebar-link">魔改G6 imageMinimap</a></li><li><a href="/vuepress-blog/blog/2021-06-01 js处理时区问题.html" class="sidebar-link">js处理时区问题</a></li><li><a href="/vuepress-blog/blog/2021-06-01 js处理大数据不卡顿.html" class="sidebar-link">js处理大数据不卡顿</a></li><li><a href="/vuepress-blog/blog/2021-04-27 ext Debug模式下鼠标hover组件名.html" class="sidebar-link">ext Debug模式下鼠标hover组件名</a></li><li><a href="/vuepress-blog/blog/2021-04-19 ext实现轮播图组件.html" class="sidebar-link">ext实现轮播图组件</a></li><li><a href="/vuepress-blog/blog/2021-03-19 ext动态更改表格列项.html" class="sidebar-link">ext动态更改表格列项</a></li><li><a href="/vuepress-blog/blog/2021-01-29 优化复制功能.html" class="sidebar-link">优化复制功能</a></li><li><a href="/vuepress-blog/blog/2021-01-19 ext仿vue mixin效果.html" class="sidebar-link">ext仿vue mixin效果</a></li><li><a href="/vuepress-blog/blog/2020-12-22 仿赛博朋克按钮效果.html" class="sidebar-link">仿赛博朋克按钮效果</a></li><li><a href="/vuepress-blog/blog/2020-12-22 node搭配腾讯云函数自动发邮件.html" class="sidebar-link">node搭配腾讯云函数自动发邮件</a></li><li><a href="/vuepress-blog/blog/2020-12-19 谈下网站水印.html" class="sidebar-link">谈下网站水印</a></li><li><a href="/vuepress-blog/blog/2020-12-17 禁止浏览器打开控制台.html" class="sidebar-link">禁止浏览器打开控制台</a></li><li><a href="/vuepress-blog/blog/2020-12-03 gulp 本地调试增加代理及热更新.html" class="sidebar-link">gulp 本地调试增加代理及热更新</a></li><li><a href="/vuepress-blog/blog/2020-11-24 手写表格列宽度拖动.html" class="sidebar-link">背景</a></li><li><a href="/vuepress-blog/blog/2020-11-17 node.js读取文件，添加依赖.html" class="sidebar-link">node.js读取文件，添加依赖</a></li><li><a href="/vuepress-blog/blog/2020-10-19 近期面试总结.html" class="sidebar-link">开篇</a></li><li><a href="/vuepress-blog/blog/2020-09-24 基于高德搭建选址组件.html" class="sidebar-link">基于高德搭建选址组件</a></li><li><a href="/vuepress-blog/blog/2020-09-21 拦截复制事件并替换图片url.html" class="sidebar-link">拦截复制事件并替换图片url</a></li><li><a href="/vuepress-blog/blog/2020-09-20 面试总结.html" class="sidebar-link">2020/09/20 面试总结</a></li><li><a href="/vuepress-blog/blog/2020-07-04 搭建前端监控系统.html" class="sidebar-link">搭建前端监控系统</a></li><li><a href="/vuepress-blog/blog/2020-05-05 vue首屏优化.html" class="sidebar-link">vue首屏优化</a></li><li><a href="/vuepress-blog/blog/2020-04-23 video兼容处理.html" class="sidebar-link">video兼容处理</a></li><li><a href="/vuepress-blog/blog/2020-04-05 vue路由改造.html" class="sidebar-link">记一次vue路由改造</a></li><li><a href="/vuepress-blog/blog/2020-04-03 vue图片预览插件v-viewer使用.html" class="sidebar-link">图片预览组件</a></li><li><a href="/vuepress-blog/blog/2020-03-07 骨架屏实验.html" class="sidebar-link">骨架屏实验 vue-content-loader</a></li><li><a href="/vuepress-blog/blog/2020-03-07 记录下写博客所需工具.html" class="sidebar-link">写博客工具</a></li><li><a href="/vuepress-blog/blog/2020-03-02 根据轮播图改变背景色.html" class="sidebar-link">根据轮播图改变背景色</a></li><li><a href="/vuepress-blog/blog/2020-02-23 各种特效（彩带、大白、验证码等）.html" class="sidebar-link">彩带</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="vue3"><a href="#vue3" class="header-anchor">#</a> Vue3</h1> <p>github: https://github.com/vuejs/vue-next</p> <p>中文文档： https://www.vue3js.cn/docs/zh/</p> <h2 id="为什么用vue3"><a href="#为什么用vue3" class="header-anchor">#</a> 为什么用Vue3</h2> <h3 id="响应式proxy"><a href="#响应式proxy" class="header-anchor">#</a> <strong>响应式Proxy</strong></h3> <p>其实在 Vue3.x 还没有发布 bate 的时候， 很火的一个话题就是<code>Vue3.x 将使用 Proxy 取代 Vue2.x 版本的 Object.defineProperty</code>。 没有无缘无故的爱，也没有无缘无故的恨。为何要将<code>Object.defineProperty</code>换掉呢，咋们可以简单聊一下。 我刚上手 Vue2.x 的时候就经常遇到一个问题，数据更新了啊，为何页面不更新呢？什么时候用<code>$set</code>更新，什么时候用<code>$forceUpdate</code>强制更新，你是否也一度陷入困境。后来的学习过程中开始接触源码，才知道一切的根源都是 <code>Object.defineProperty</code>。 对这块想要深入了解的小伙伴可以看这篇文章 为什么 Vue3.0 不再使用 defineProperty 实现数据监听？要详细解释又是一篇文章，这里就简单对比一下<code>Object.defineProperty</code> 与 Proxy</p> <ol><li><code>Object.defineProperty</code>只能劫持对象的属性， 而 Proxy 是直接代理对象</li></ol> <p>由于<code>Object.defineProperty</code>只能劫持对象属性，需要遍历对象的每一个属性，如果属性值也是对象，就需要递归进行深度遍历。但是 Proxy 直接代理对象， 不需要遍历操作</p> <ol start="2"><li><code>Object.defineProperty</code>对新增属性需要手动进行<code>Observe</code></li></ol> <p>因为<code>Object.defineProperty</code>劫持的是对象的属性，所以新增属性时，需要重新遍历对象， 对其新增属性再次使用<code>Object.defineProperty</code>进行劫持。也就是 Vue2.x 中给数组和对象新增属性时，需要使用<code>$set</code>才能保证新增的属性也是响应式的, <code>$set</code>内部也是通过调用<code>Object.defineProperty</code>去处理的。</p> <h3 id="性能优化"><a href="#性能优化" class="header-anchor">#</a> 性能优化</h3> <p><img src="/vuepress-blog/assets/img/wechat_20210605170207.3090873c.png" alt=""></p> <h4 id="要点1-编译模板的优化"><a href="#要点1-编译模板的优化" class="header-anchor">#</a> 要点1：编译模板的优化</h4> <p><img src="/vuepress-blog/assets/img/1.d5a1d5e6.jpg" alt="img"></p> <p>假设要编译以下代码</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>{{ msg }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>将会被编译成以下模样：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createVNode <span class="token keyword">as</span> _createVNode<span class="token punctuation">,</span> toDisplayString <span class="token keyword">as</span> _toDisplayString<span class="token punctuation">,</span> openBlock <span class="token keyword">as</span> _openBlock<span class="token punctuation">,</span> createBlock <span class="token keyword">as</span> _createBlock <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token parameter">_ctx<span class="token punctuation">,</span> _cache</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token function">_openBlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">_createBlock</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
    <span class="token function">_createVNode</span><span class="token punctuation">(</span><span class="token string">&quot;span&quot;</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">&quot;static&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">_createVNode</span><span class="token punctuation">(</span><span class="token string">&quot;span&quot;</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token function">_toDisplayString</span><span class="token punctuation">(</span>_ctx<span class="token punctuation">.</span>msg<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span> <span class="token comment">/* TEXT */</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// Check the console for the AST</span>
</code></pre></div><p>注意看第二个<code>_createVNode</code>结尾的“1”：</p> <p>Vue在运行时会生成<code>number</code>（大于0）值的<code>PatchFlag</code>，用作标记。</p> <p><img src="/vuepress-blog/assets/img/2.c7a5cdd0.jpg" alt="img"></p> <p>仅带有<code>PatchFlag</code>标记的节点会被真正追踪，且<strong>无论层级嵌套多深，它的动态节点都直接与<code>Block</code>根节点绑定，无需再去遍历静态节点</strong></p> <p>刚刚我们提到 Vue3 突破 <code>Vdom</code> 的性能瓶颈的方式是，只关注它有变化的部分。而在更新时具体是怎么做的呢？</p> <p>具体的做法就是 <strong>静态树的提升</strong> 和 <strong>静态属性的提升</strong></p> <ul><li><p>我们创建若干的 dom 元素：</p> <p><img src="/vuepress-blog/assets/img/3d4f98a0cf6db1f734438a0669136ed9.bc2e2fd3.png" alt="dom元素"></p></li> <li><p>静态提升之后：</p> <p><img src="/vuepress-blog/assets/img/ba0f5a4cf4f9f8b3b859f35fe9bbed1f.9e7ddffd.png" alt="静态提升后的dom元素"></p> <p>我们已经知道处理后的 <code>Vdom</code> 都在 <code>_createBlock</code> 函数之中，而观察结果我们发现，所有的静态元素都被放在了 <code>_createBlock</code> 函数之外了，也就是说他们只会在页面初始的时候被渲染一次，而在更新的时候，静态元素是不予搭理的。</p> <p>这个优化就是 Vue3 的 <strong>静态提升</strong></p></li></ul> <p>再看以下例子：</p> <p><img src="/vuepress-blog/assets/img/3.4c4bf43d.jpg" alt="img"></p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>static<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">:id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hello<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>bar<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{ msg }}   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>会被编译成：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createVNode <span class="token keyword">as</span> _createVNode<span class="token punctuation">,</span> toDisplayString <span class="token keyword">as</span> _toDisplayString<span class="token punctuation">,</span> openBlock <span class="token keyword">as</span> _openBlock<span class="token punctuation">,</span> createBlock <span class="token keyword">as</span> _createBlock <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token parameter">_ctx<span class="token punctuation">,</span> _cache</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token function">_openBlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">_createBlock</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
    <span class="token function">_createVNode</span><span class="token punctuation">(</span><span class="token string">&quot;span&quot;</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">&quot;static&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">_createVNode</span><span class="token punctuation">(</span><span class="token string">&quot;span&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      id<span class="token operator">:</span> _ctx<span class="token punctuation">.</span>hello<span class="token punctuation">,</span>
      <span class="token keyword">class</span><span class="token operator">:</span> <span class="token string">&quot;bar&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token function">_toDisplayString</span><span class="token punctuation">(</span>_ctx<span class="token punctuation">.</span>msg<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">9</span> <span class="token comment">/* TEXT, PROPS */</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

PatchFlag<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"> 变成了</span><span class="token template-punctuation string">`</span></span><span class="token number">9</span> <span class="token comment">/* TEXT, PROPS */</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">]</span>
</code></pre></div><p>它会告知我们不光有<code>TEXT</code>变化，还有<code>PROPS</code>变化（id）</p> <p>这样既跳出了<code>virtual dom</code>性能的瓶颈，又保留了可以手写<code>render</code>的灵活性。 等于是：既有<code>react</code>的灵活性，又有基于模板的性能保证。</p> <h4 id="要点2-事件监听缓存-cachehandlers"><a href="#要点2-事件监听缓存-cachehandlers" class="header-anchor">#</a> 要点2: 事件监听缓存：<code>cacheHandlers</code></h4> <p><img src="/vuepress-blog/assets/img/4.9c594861.jpg" alt="img"></p> <p>假设我们要绑定一个事件：</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>onClick<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    {{msg}}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>关闭<code>cacheHandlers</code>后：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> toDisplayString <span class="token keyword">as</span> _toDisplayString<span class="token punctuation">,</span> createVNode <span class="token keyword">as</span> _createVNode<span class="token punctuation">,</span> openBlock <span class="token keyword">as</span> _openBlock<span class="token punctuation">,</span> createBlock <span class="token keyword">as</span> _createBlock <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token parameter">_ctx<span class="token punctuation">,</span> _cache</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token function">_openBlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">_createBlock</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
    <span class="token function">_createVNode</span><span class="token punctuation">(</span><span class="token string">&quot;span&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> onClick<span class="token operator">:</span> _ctx<span class="token punctuation">.</span>onClick <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token function">_toDisplayString</span><span class="token punctuation">(</span>_ctx<span class="token punctuation">.</span>msg<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">9</span> <span class="token comment">/* TEXT, PROPS */</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&quot;onClick&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p><code>onClick</code>会被视为<code>PROPS</code>动态绑定，后续替换点击事件时需要进行更新。</p> <p>开启<code>cacheHandlers</code>后：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> toDisplayString <span class="token keyword">as</span> _toDisplayString<span class="token punctuation">,</span> createVNode <span class="token keyword">as</span> _createVNode<span class="token punctuation">,</span> openBlock <span class="token keyword">as</span> _openBlock<span class="token punctuation">,</span> createBlock <span class="token keyword">as</span> _createBlock <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token parameter">_ctx<span class="token punctuation">,</span> _cache</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token function">_openBlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">_createBlock</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
    <span class="token function">_createVNode</span><span class="token punctuation">(</span><span class="token string">&quot;span&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      onClick<span class="token operator">:</span> _cache<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">(</span>_cache<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token parameter">$event</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>_ctx<span class="token punctuation">.</span><span class="token function">onClick</span><span class="token punctuation">(</span>$event<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token function">_toDisplayString</span><span class="token punctuation">(</span>_ctx<span class="token punctuation">.</span>msg<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span> <span class="token comment">/* TEXT */</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p><code>cache[1]</code>，会自动生成并缓存一个内联函数，“神奇”的变为一个静态节点。</p> <p>并且支持手写内联函数：</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>()=&gt;foo()<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    {{msg}}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="补充-patchflags枚举定义"><a href="#补充-patchflags枚举定义" class="header-anchor">#</a> 补充：<code>PatchFlags</code>枚举定义</h4> <p>而通过查询<code>Ts</code>枚举定义，我们可以看到分别定义了以下的追踪标记：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token keyword">enum</span> PatchFlags <span class="token punctuation">{</span>
  
  <span class="token constant">TEXT</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token comment">// 表示具有动态textContent的元素</span>
  <span class="token constant">CLASS</span> <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">,</span>  <span class="token comment">// 表示有动态Class的元素</span>
  <span class="token constant">STYLE</span> <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token number">2</span><span class="token punctuation">,</span>  <span class="token comment">// 表示动态样式（静态如style=&quot;color: red&quot;，也会提升至动态）</span>
  <span class="token constant">PROPS</span> <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token comment">// 表示具有非类/样式动态道具的元素。</span>
  <span class="token constant">FULL_PROPS</span> <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token number">4</span><span class="token punctuation">,</span>  <span class="token comment">// 表示带有动态键的道具的元素，与上面三种相斥</span>
  <span class="token constant">HYDRATE_EVENTS</span> <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token comment">// 表示带有事件监听器的元素</span>
  <span class="token constant">STABLE_FRAGMENT</span> <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token number">6</span><span class="token punctuation">,</span>   <span class="token comment">// 表示其子顺序不变的片段（没懂）。 </span>
  <span class="token constant">KEYED_FRAGMENT</span> <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token comment">// 表示带有键控或部分键控子元素的片段。</span>
  <span class="token constant">UNKEYED_FRAGMENT</span> <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token comment">// 表示带有无key绑定的片段</span>
  <span class="token constant">NEED_PATCH</span> <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token number">9</span><span class="token punctuation">,</span>   <span class="token comment">// 表示只需要非属性补丁的元素，例如ref或hooks</span>
  <span class="token constant">DYNAMIC_SLOTS</span> <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token number">10</span><span class="token punctuation">,</span>  <span class="token comment">// 表示具有动态插槽的元素</span>
  <span class="token comment">// 特殊 FLAGS -------------------------------------------------------------</span>
  <span class="token constant">HOISTED</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>  <span class="token comment">// 特殊标志是负整数表示永远不会用作diff,只需检查 patchFlag === FLAG.</span>
  <span class="token constant">BAIL</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">2</span> <span class="token comment">// 一个特殊的标志，指代差异算法（没懂）</span>
<span class="token punctuation">}</span>

</code></pre></div><p>感兴趣的可以看源码：<code>packages/shared/src/patchFlags.ts</code></p> <h3 id="tree-shaking"><a href="#tree-shaking" class="header-anchor">#</a> tree-shaking</h3> <p>vue 包模块按需引入</p> <p>很多时候，我们并不需要 <code>vue</code>提供的所有功能，在 <code>vue 2</code> 并没有方式排除掉，但是 3.0 都可能做成了按需引入。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> ref<span class="token punctuation">,</span> onMounted<span class="token punctuation">,</span> onUnmounted <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
</code></pre></div><h3 id="composition-api"><a href="#composition-api" class="header-anchor">#</a> Composition API</h3> <p>当两个或多个组件的逻辑相同或相似时，在<code>vue2.x</code>中我们考虑用<code>mixin</code>、<code>HOC(高阶组件，Vue较少用到)</code>、<code>slot插槽</code>来做逻辑复用。但这几种方式都有各自的弊端:</p> <ul><li>不知道代码引用来源</li> <li>与引入的组件属性或方法命名冲突</li> <li><code>HOC</code>和<code>slot</code>需要额外的有状态的组件实例，从而使得性能有所损耗。</li></ul> <p>使用<code>composition api</code>能做到更清晰的逻辑复用</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> ref<span class="token punctuation">,</span> onMounted<span class="token punctuation">,</span> onUnmounted <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">useMousePosition</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> x <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> y <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>

  <span class="token keyword">function</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    x<span class="token punctuation">.</span>value <span class="token operator">=</span> e<span class="token punctuation">.</span>pageX
    y<span class="token punctuation">.</span>value <span class="token operator">=</span> e<span class="token punctuation">.</span>pageY
  <span class="token punctuation">}</span>

  <span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'mousemove'</span><span class="token punctuation">,</span> update<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token function">onUnmounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    window<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">'mousemove'</span><span class="token punctuation">,</span> update<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token keyword">return</span> <span class="token punctuation">{</span> x<span class="token punctuation">,</span> y <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>在组件中引入函数</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useMousePosition <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./mouse'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> x<span class="token punctuation">,</span> y <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useMousePosition</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">// 其他逻辑...</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span> x<span class="token punctuation">,</span> y <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><p>这里:</p> <ul><li>所有的数据来源都非常清晰</li> <li>可以通过解构重命名，不存在命名冲突</li> <li>不再需要仅为逻辑复用而创建的组件实例</li></ul> <p><img src="/vuepress-blog/assets/img/20210619211027.478ca9dd.png" alt=""></p> <h3 id="更好的ts-支持"><a href="#更好的ts-支持" class="header-anchor">#</a> 更好的ts 支持</h3> <ul><li><code>Vue 3</code>是用<code>TypeScript</code>编写的库，可以享受到自动的类型定义提示</li> <li>支持<code>TSX</code></li></ul> <h3 id="custom-renderer-api"><a href="#custom-renderer-api" class="header-anchor">#</a> Custom Renderer API</h3> <ul><li>正在进行<code>NativeScript Vue</code>集成</li> <li>用户可以尝试<code>WebGL</code>自定义渲染器，与普通Vue应用程序一起使用（<code>Vugel</code>）。</li></ul> <p>意味着以后可以通过 <code>vue</code>， <code>Dom</code> 编程的方式来进行 <code>webgl</code> 编程 。感兴趣可以看这里：<a href="https://vugel.planning.nl/#application" target="_blank" rel="noopener noreferrer">Getting started vugel<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="其它"><a href="#其它" class="header-anchor">#</a> 其它</h3> <h4 id="体积"><a href="#体积" class="header-anchor">#</a> 体积</h4> <p>小了很多，Vue2 34.8kb，Vue3 10几kb</p> <h4 id="兼容性"><a href="#兼容性" class="header-anchor">#</a> 兼容性</h4> <p>因为用了proxy，ie不再兼容</p> <p><img src="/vuepress-blog/assets/img/wechat_20210605175057.671331aa.png" alt=""></p> <p><img src="/vuepress-blog/assets/img/wechat_20210605174935.2ca516b5.png" alt=""></p> <h2 id="初始化项目"><a href="#初始化项目" class="header-anchor">#</a> 初始化项目</h2> <ol><li><p><code>npm i @vue/cli -g</code></p></li> <li><p><img src="/vuepress-blog/assets/img/image-20210614111740669.57e36c56.png" alt="image-20210614111740669"></p></li> <li><p><img src="data:image/png;base64,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" alt="image-20210614111939206"></p></li> <li><p><img src="data:image/png;base64,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" alt="image-20210614112021084"></p></li> <li><p><img src="data:image/png;base64,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" alt="image-20210614112637007"></p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{ nameString }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{ child }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>comClick<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>button<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> Component <span class="token keyword">from</span> <span class="token string">'vue-class-component'</span>

@<span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  props<span class="token operator">:</span> <span class="token punctuation">{</span>
    child<span class="token operator">:</span> String
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  watch<span class="token operator">:</span><span class="token punctuation">{</span>
    
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  components<span class="token operator">:</span> <span class="token punctuation">{</span>
    
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">ComponentA</span> <span class="token keyword">extends</span> <span class="token class-name">Vue</span> <span class="token punctuation">{</span>
  <span class="token comment">// initial data</span>
  nameString <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">ComponentA</span><span class="token template-punctuation string">`</span></span>    
  
  <span class="token comment">// lifecycle hook</span>
  <span class="token function">mounted</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">greet</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// computed</span>
  <span class="token keyword">get</span> <span class="token function">computedMsg</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token string">'computed '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>nameString
  <span class="token punctuation">}</span>

  <span class="token comment">// method</span>
  <span class="token function">greet</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'greeting: '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>nameString<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">

</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li> <li><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA5IAAACXCAYAAABnVGQ8AAATHklEQVR4nO3du87dxNoAYBNtKUj7BlAqREUFokQ0QeJudsknboCOPu1XInEXoaBG0NEgqtRpgthB2vzFL0eOM56Z1zM+LH/PI0XK58OcPD68a2Z5vff69et/hom7u7vh/v5+aPXixYvhyZMni8vWrC+lvzataD2WlvfKc23+ufXRdEr1K5VhTf0j++zZf3ql37NNWo9PJP9hGKrqEjm/W8u3Rf+MbN/av6LbRX3y3S/Dr998urhs6/WlMpW2rfXJd78MwzBUlaV3/mMaa9piTRki+Wxx/CKi+Zf+ril/bTl6Wtv+vfPt0X6t/WvNNq22Pv+X0m91xPU3um1um9ZjW1P+aP6R47um/K33t0j9epW5Na3a8/9RKaHHzx4Nj58VNyvq+VA7DP//YDv9e75+KrVta/5H7L82/dp8c9v1br+t26KUf3R9TXm3br9btkX95/1pi4AsYu31Kbf+xYsXXdpuj4e6eX577DMMdQ95NWlH818KInukv7Ytevnku1+6lqH0UFhaXvvgGynPkW3cO/+xL7aUp3Wbo9p/q/N/7HOptt3z/LgV0faInt8RS8csUp7abbdQk3/vMrSk915pRHIMIv/7n/+FE58/WOWWl5bN04iktVSOWvNRmZ7lL+WZ27+U/rTcSyNL8+2W0i8F46VjM9+mpn5LerV/ZH2qDVv3z2k5/i1tmypHbpSutnxr+k9NuVJtWlv/yPm5NIIZyaPUjpFzs8b0xjD/JHS+vLRsnkZpfeqmFNm/Vm2AMn2wqK1fz/xz+abyLm3T0r6R47+2TUplm263dGxSy3P5rGmf1lGVXNpb5V86r9ecv7m2Li2fpx85/r1mBSytm+YfaZ9U30xtc1T/qW3jaL6RtFuun7nzu2f+kTaOlKHX9bd236Vtel2fI2VMtWkxkAQerjOM9KVsXa4tpgnDLbnCKEnO0fU7Ov+j3Xr9b738R9J27c7Uhu1zVoHLGadUnjF4Gkfp9pgqfuZ2gK2c6SFlC0fX7+j8j3br9b/18h9pHNE6evr+LTtb/zMiCQAAQIgRSQAAAEIEkgAAAIT8K7dy/rMf0Te39nx7JP21vBHyzGrf6rp3ea7WzkC7W70+HF3uHm/dBaDNYiD5+NmjdwLH1LIludflH30D4rZE+8v4sxDT7VPLrsr5xZXp37etx/FLvWzibC+gAHgIDpna6gHgHJ48eXL6YzEGf6XfITyzLdt561H/W23zvbS2z9Htu8ebb3vvf/ZrVtTe14deasr9EI4fwEP2JpB8+fLl8PXXXw+vXr16s3I+tbXW0siPGwgtWvrPQxmNBLg6I48A57A4tbVlWmtE7rtr808zW9fPtyntX7L2e3fz/ZbSWSrf2v1zaZTKmdo3l3eNXPtP162ZCpWbyppKL7csVb5akf4dyaO2fWrzz62Ltn/td1Rr+teaMqT65/z/S2Va2n9pm2jZIvv3vD7N04jmv1T3pTbao31yZZyvi+Sf6zOpPKPX757l36J/1pw/pet+j+MXEZ3WOv1+5a/ffPrmbwEqQMyb35F8+fLl8O233w5//vnn8MMPP7y1UTSIrBn9WbpBTx9EUjfWvdZH6xgd8SrtX1O+1INxtH65YKvUftO8c2mltJYvmke0fbcsS8/0o8FypD3Wlmlpv73Oz1zdxv/XnH/DUO7fLX0it3/v61M0zdr+Ogzp68+aMtfWI5X3fNse7TdNP1r/aP5rr/97XFPWXDdK61vvH6OWAHAafPp+JcA6h/78R8sDxtH55T553tO0HKX69W7vvY/fWq0Ps3vZ8/hs3X/noxZ7HoN53qky1NT/FvpMRKQ+tf0jcv3pbev85nVLtcNR9U+dT73yrzl/euXT6tdvPn1rRDG67yff/SKIBGiQ/fmPW5a6GS59orzW0lSfSPlSoyM9yldTf/K2/IDgDMenpf/eily9rlz/Hv3r1tvnFss8dYbyn6EMNcagUEAIsK9//fXXX8P7778/fP/998Pvv/8+fPDBB+9sFP1u5FJwtPfIUCn/LaZc9dSa/tHtf7TWB+C9j++ex2ev/puawra3mqmsV9R7auytUf4+ch92HkXQCHAOj7788svh888/Hz7++OPho48+emeDx88erX5769TeN6I1AcTaoGPtftEbdCSfW/kkeQ+136uLbPPixYumNt7i+Gzdf4/sUy0j/r3T3iqdnu3b8/p3lfaJ7n/U1Owl0/KkPiQr1S9S/y2Cxz2vH+OU1dI2LVNjAZi8bGd0d3c33N/fv/l7DCLXvLF1fuPLLS8tm6dRWl/6PktN+iWpqV+tLzaoKd+aus23aWmf2uNX0nr8avOoad/UMawp39oRnl71S5Ulen6V+m/LqOKa/p1av+Ycy70kZJr+PO1o/24ddV3av+X6FOlfpfxz7VNTtt7t0+v+Ucpzqc/V1j+Sf65/1uYRPb4lufOnpX/1un/Mg7/pCGXpJTzT9fM3uAJQrxhIAnEPcSplykOtN7dt637r+gDAFVz2ZTtwtDWfsl/FGb4bCWuMfXePYHLkPAHgFgkkYQMP/cHwodef27VH33V+AHAFh/6OJAAAALdHIAkAAEBIdmrr/Gc/at/c2uutbHt46C85eOj1Zztr35qZeuOiNysCAJzL4ojk42ePhv/+539v/av9PcnxgXH64JhadqTW3wG8dQ+9/mxr/IBi+q+2v42BYip4FEQCAJzDg53aOj7c3rq1weBV6n92Zw/Wz14+AADOKRtI1o5AAsy1BqnzHwsHAOA8Fr8jOf8+5DjVtafUg+b8R5qX1q3JI7p/ad9o+aNlyO0/XTf/zb5e31Hduv2X0s8FINMpkvP/5/JOpT+fbhktX27/3PGptXT8S8e3tG1t+WrbJnUcUtv3HgGfB5mmvQIA7KfqdyS3CiJzD6dL66OB2PzhORJE5fZdW/7U/6emgUHNg31qu/HBfv4d1Zb6Ly2LpDH9O5f+vKyp/4/f8VxKryb91vLl9s+lUyN3/GuOb2v5Su25VIbautQaRyXnQWLtMgAAtlEVSO6l54jFUoC1piy1U/RK6dc8dLekP9+2FBhtqbX9a7QEyj3Ks/d3TEuBY8/2run/pRFhAACu67BAMvUWx9LUwr0tTWHMLatdX9K6fw9Ht//Rjqz/mY5/qiwAADxs7wSSr169emej3tNaR6Wpk0eOctSMbkXL3zpitmb/lhGjhz7KdHT9a/rXViOCPUewW9Px0h0AgPN557Ws//73v9/6+/GzR5u8vXXNCEdkn9QoytpRldR+pbRaR3C2bp81jmr/mvLsMXV3z2N6xAjgUp655dPvjC5tYzQTAOB63nv9+vU/0wV3d3fD/f39m7/HIHLNqGRuat7SWyZr919ThrX5p0Z+SvvXpF9b7tL+uVGp3MtUSulv2f659HNvBC29LXRN+jXL1uw/L8cWxz/yUqZo+Wr6f+qY1KSdMx19nL48Z/4yHW9tBQA4TjGQ5Lbt/ZKdvVy1XlHaAQCAI7z1Hck//vhj+Omnn44qCx1d+W2aY90echB15eMLAMD5vRVIfvjhh8MXX3wx/Pbbb0eVh06uHGBcuW61tAEAAEfq/xYd4EHyUh0AoMURzxLPnz+/ZF57EEgCzR7yNGMAoI+9f7v6+fPnw9OnT5vTqPX06dNLBZPv/I7k1PxnP2rf3Bp9a2RvrW9M7WnrB+wzP8Af9T2+3AVoz7Js3Q/P8j3Js/bBs7QPwBpbXltrro+l/M967b8Fre1/9P1t7S8X1MYH47al+qfyjpgHkdMAbx7wLQWbawLRMe3WAPYMFgPJx88evRM4ppalpDpAqVP0lMorknePE/RMv+l4C3pfFKcXqNxPtmyl9LMcXEtL/z36gaCHK9Qh5+r1a3X19tm7fj3vFb1+fiqynja30L6pZ6xR7vmnR3xQm+ca8wDvSgHfVt6Z2vr3338fUY5T6dEZxx9q38rW6fcQKWPPuiyldfb2iurRB1pvWGf+RHrPc2RtPmP77T2Vp7ez9oFebrV+e/Wplv6/pV7p7338e127cteXXB6l/M/y/HHr18y17V+7zVnN++PSc8TW98WjA8SrTHF9K5D8+eefhx9//PHN3/OprcB6t3rRZx/6B7AV1xeO1Lv/bRlgTgO8UrB5dDB6Bm9Nbf3ss8+Gr776ari/v189rTUiOsc62hFL38us+d5mblpIrznaS1q/V7pUvvkUg6U81s6Bn6+rneNeW/5WpTn603Vrj3/tVI2a7wtEv3OcOr65Y9t72lZN+efbLeWfmg6TKu98WW2/bilfy42spv1L5++4LHqdqP0OcWv915a/9vpUm2+qDLny1aRTs3+rUr+s7f/R/rWmfDXrl9q+pXw15+7a9Nee3zXX35r8S+lP98mdU7n+Esk3qvT80Cvt0rW/po8snUtrno+i99/WZ7ua+3+k/D3UPP+Uzo9S+lNnmhk1BqC136+8guzLdkZbBZGlh9vWzjK/OET+ni+Lbt+qJr/I/tNl4wmcy2Nte41yAVrN/lu2b+oiN182b581x7/mQSKVZq4M07Tny+b55sq/tLyHmvLXtF+u7qmHsEj7tJav1H9LSu1fOn9L5S/lvVSX8f+t9W8pf8316cz16yFX92j/j/av8f8pvdqntXylv3vUf+35XXP9bek/NfevUv2j14yo1utjSa5+a67vqfMr8nw0TT96/22tf2pd6/NdD6Xnn162KPsw1H03MrV+3C/1Ep+rBpOnmru6ZWdbutEOQ/mmmdp/azXl65nHGdPb0vx45m5Iqe0j+aT2LeW3VIZo3tP/79l/l8pQa+nG29seeWzpyuW/xfr0ssf1v5R/6t9Z1F4/j7Tl9bfm/nU2R5Rv6foSff6L5pXKb+/z+Az9Yen55yG4atCYUjUiuYWlT1Wntu5880+Q1u6/ldbytcgF3ktl6n3hOvvFJzoCdQs3+z1d6fjyrqu335Wv/z20lnmv9qW/PZ4PWrWcX7dQv5zS891W+UVGeLkdVYFk72mto9LUjrMPh5+9fFvnv3ZqTq29Lm5r88rtc/Tx20tLgHz29jl7+c7u6u135et/D2e+v+6R/tb2mjq41tbPBy22eP47U/1Kti5rr/TXPIdGtPy0R4+pqleZ7lqc2vr42aNN3t669whgrkMupRudOrLl9w32Np1nP/7bskw16e3dDlse/6Xprj2dpf/Wmn9COi9/7b5byeVxdNsd7Yznb0/R+qWumXvl3bLNWj3yj6xfc/1sWd/6vHJLQUYPNW19xDNEr/3WXA/OdPxLz3dbSw0arT0Ot3xfuYr3Xr9+/c90wd3d3XB/f//m7zGIXDMqmRv6Tx380tTW2hOxJu3pdqlP9saOnvvEr7V+JaXyldJfKl9qSkPqJp37xK2Uf7R8NXVc2365fZcu8Hsd/9KxWNq3pv1rP7Hu8al2pG/M863ZZmlqzHTf1PmSSr9X+Ur9N6fX+bu0b23eS+0W/epB5PyNXDty16yz1m+6f+s5tZR3TflS6aSWL5W/tnxL+dem31K+2mv8mvRbz++97h81aUfT33r9uE2vUatp+q3Pf7XPR7k8Ssd/y/bt8XwXsZRWS/lqy9Pj2WUY0iODuTeu5kYSU/stLbvCaOQwVASSPEw9LzRnVgokb9UR5d86z1s/Jjws+uvDtdexv+U+dstlLzl73Vqe71If6Pau6xHtFwnsWoPAKwWRwyCQJKP1E+szq/2k+BbrfOvlT7linbiusz9Isp09rlW9RmKOcuXz41buVWuf7678XMg6AkkAAABCTvU7kgAAAJyfQBIAAIAQgSQAAAAhAkkAAABCBJIAAACECCQBAAAIEUgCAAAQIpAEAAAgRCAJAABAiEASAACAEIEkAAAAIQJJAAAAQgSSAAAAhAgkAQAACBFIAgAAECKQBAAAIEQgCQAAQIhAEgAAgBCBJAAAACECSQAAAEIEkgAAAIQIJAEAAAgRSAIAABAikAQAACBEIAkAAECIQBIAAIAQgSQAAAAhAkkAAABCBJIAAACECCQBAAAIEUgCAAAQIpAEAAAgRCAJAABAiEASAACAEIEkAAAAIQJJAAAAQgSSAAAAhAgkAQAACBFIAgAAECKQBAAAIEQgCQAAQIhAEgAAgBCBJAAAACECSQAAAEIEkgAAAIQIJAEAAAgRSAIAABAikAQAACBEIAkAAECIQBIAAIAQgSQAAAAhAkkAAABCBJIAAACECCQBAAAIEUgCAAAQIpAEAAAgRCAJAABAiEASAACAEIEkAAAAIQJJAAAAQgSSAAAAhAgkAQAACBFIAgAAECKQBAAAIEQgCQAAQIhAEgAAgBCBJAAAACECSQAAAEIEkgAAAIQIJAEAAAgRSAIAABAikAQAACBEIAkAAECIQBIAAIAQgSQAAAAhAkkAAABCBJIAAACECCQBAAAIEUgCAAAQIpAEAAAgRCAJAABAiEASAACAEIEkAAAAIQJJAAAAQgSSAAAAhAgkAQAACBFIAgAAECKQBAAAIEQgCQAAQIhAEgAAgBCBJAAAACECSQAAAEIEkgAAAIQIJAEAAAgRSAIAABAikAQAACBEIAkAAEDI/wFK+P+bgxX+qwAAAABJRU5ErkJggg==" alt="image-20210614112705487"></p> <p>支持jsx</p></li> <li><p><img src="data:image/png;base64,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" alt="image-20210614112737299"></p></li> <li><p><img src="data:image/png;base64,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" alt="image-20210614112916986"></p></li> <li><p><img src="data:image/png;base64,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" alt="image-20210614112948861"></p></li> <li><p><img src="data:image/png;base64,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50rLL8k7dF5o+VzN5gl2nwMAoCfvgqIlaoIcy+YAAIAzabItXE2QIyACAADO5Fx7ZQMAAOysSVB0v983SQsAALC11UHR/X4fbrdbcfrb7SYwAgAATmNVUFQbEI2WBkb3+/2//0rSEaZ91tF+AACP5VLPFI0B2JJA7KrWDMAN3gEAIG9xULR0lmi05TK62+22OnA6SzCx9DrG+xNq5xbt07OS9jtL/wEAIO9SM0UsIwACAIC4346uQGvTb+jnwcB4bD57Mk03fX2avkUdSsqfn18rV/9UuaHjS9ogNDM1r0+uHjVl5NpvXn5IbuYylEeu/Zb2HwAA9vVwQVFqADwOfOdL/6b/np6/dLCeyjtXfqjcmiApV/9cgDDWcXpubUAUqv90KV/q+peUUdJ+0/JDacefc8dL2m/JNQEAcJyHC4pKbDlYjc3K7FV+C0tniGryXyoUbJy9PQEAODfPFG0gNBsCAACc0+KgaO3ucY8aNMyXWQEAAOf2EDNFW29/vObvBB1V9toyY9t5Hy1Up7PVce7s9QMA6N2Ht7e3f4dhGJ6fn4eXl5fqDJbM+KzZxCAmt8HC/FjJbmJrd5+bP5tTWv6aHeBS119zfM0OcSW7v5Xu5lZSxpLd51L3puR4KP9YHc0aAgCc2+qgaBjqgpxHXTYHAABcU5PlczVBjoAIAAA4k4d4pggAAGApQREAANA1QREAANA1QREAANA1QREAANA1QREAANA1QREAANA1QREAANA1QREAANA1QREAANA1QREAANA1QREAANA1QREAANA1QREAANA1QREAANA1QREAANA1QREAANA1QREAANA1QREAANA1QREAANA1QREAANA1QREAANA1QREAANA1QREAANA1QREAANA1QREAANA1QREAANA1QREAANA1QREAANA1QREAANA1QREAANA1QREAANA1QREAANA1QREAANA1QREAANA1QREAANA1QREAANA1QREAANA1QREAANA1QREAANA1QREAANA1QREAANA1QREAANA1QREAANA1QREAANA1QREAANA1QREAANA1QREAANA1QREAANA1QREAANA1QREAANA1QREAANA1QREAANC1/wGCYHxkgJ9IxQAAAABJRU5ErkJggg==" alt="image-20210614113007382"></p></li> <li><p><img src="data:image/png;base64,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" alt="image-20210614113038804"></p></li> <li><p><img src="data:image/png;base64,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" alt="image-20210614113057600"></p></li> <li><p><img src="/vuepress-blog/assets/img/image-20210614164255058.dde9680e.png" alt="image-20210614164255058"></p></li></ol> <h2 id="使用tsx"><a href="#使用tsx" class="header-anchor">#</a> 使用tsx</h2> <ol><li><p><code>npm i @vue/babel-plugin-jsx -D</code></p></li> <li><p><code>babel.config.js</code> 中添加</p> <div class="language-js extra-class"><pre class="language-js"><code>plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'@vue/babel-plugin-jsx'</span><span class="token punctuation">]</span>
</code></pre></div></li> <li><p>写法</p> <p>App.tsx</p> <div class="language-vue extra-class"><pre class="language-vue"><code>import { defineComponent, ref, reactive } from 'vue'
export default defineComponent({
  setup () {
    const num = ref(0)
    const name = reactive({
      man: 'xx'
    })
    setInterval(() =&gt; {
      num.value++
    }, 1000)
    return () =&gt; {
      // const number = num.value
      return (
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{name.man}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{num.value}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      )
    }
  }
})

</code></pre></div></li></ol> <h2 id="新api"><a href="#新api" class="header-anchor">#</a> 新API</h2> <h3 id="setup"><a href="#setup" class="header-anchor">#</a> setup</h3> <p><code>setup</code>函数是一个新的选项。作为在组件内使用<code>Composition Api</code>的入口点。下面我们分为4个方面来讲解它</p> <h4 id="调用时机"><a href="#调用时机" class="header-anchor">#</a> 调用时机</h4> <p>官方文档说是围绕 <code>beforeCreate</code> 和 <code>created</code> 生命周期钩子运行的，很模糊。直接来打印看下顺序吧</p> <div class="language-vue extra-class"><pre class="language-vue"><code>setup () {
  console.log('setup')
},
created () {
  console.log('created')
},
beforeCreate () {
  console.log('beforeCreate')
}
</code></pre></div><p>结果：</p> <p><img src="data:image/png;base64,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" alt="image-20210605222142590"></p> <p>实验证明setup是最先执行的，不过vue3并没有导出beforeCreate、created的生命周期方法，照着官方说的做吧。</p> <h4 id="this指向"><a href="#this指向" class="header-anchor">#</a> this指向</h4> <p>由于不能在<code>setup</code>函数中使用<code>data</code>、<code>methods</code>，为了避免使用<code>Vue</code>出错，所以把<code>setup</code>函数中<code>this</code>修改为了<code>undefined</code>。</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>xx<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'App'</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>查看源码，可以发现，判断是否存在setup，存在时将props和ctx传入setup并直接调用，然后将setup的返回值挂载到组件实例的setupState上。</p> <p>简化版源码：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> setup <span class="token punctuation">}</span> <span class="token operator">=</span> Component<span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>setup<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
  <span class="token keyword">const</span> setupResult <span class="token operator">=</span>
    setup <span class="token operator">&amp;&amp;</span> <span class="token function">setup</span><span class="token punctuation">(</span><span class="token function">shallowReadonly</span><span class="token punctuation">(</span>instance<span class="token punctuation">.</span>props<span class="token punctuation">)</span><span class="token punctuation">,</span> setupContext<span class="token punctuation">)</span><span class="token punctuation">;</span>
    
  <span class="token comment">// 处理 setupResult</span>
  <span class="token function">handleSetupResult</span><span class="token punctuation">(</span>instance<span class="token punctuation">,</span> setupResult<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>这不同于vue2，像methods中的this指向，是在组件初始化时动态bind的实例作为this的。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">initMethods</span><span class="token punctuation">(</span><span class="token parameter">vm<span class="token punctuation">,</span> methods</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> key <span class="token keyword">in</span> methods<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        vm<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> 
            methods<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">?</span> 
            noop <span class="token operator">:</span> 
            <span class="token function">bind</span><span class="token punctuation">(</span>methods<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">,</span> vm<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>可以看看bind源码</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">polyfillBind</span><span class="token punctuation">(</span><span class="token parameter">fn<span class="token punctuation">,</span> ctx</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    
    <span class="token keyword">function</span> <span class="token function">boundFn</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        
        <span class="token keyword">var</span> l <span class="token operator">=</span> arguments<span class="token punctuation">.</span>length<span class="token punctuation">;</span>        
        <span class="token keyword">return</span> l <span class="token operator">?</span>
            <span class="token punctuation">(</span>
                l <span class="token operator">&gt;</span> <span class="token number">1</span> <span class="token operator">?</span>
                <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> arguments<span class="token punctuation">)</span> <span class="token operator">:</span>
                <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> a<span class="token punctuation">)</span>
            <span class="token punctuation">)</span><span class="token operator">:</span>
            <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>ctx<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    boundFn<span class="token punctuation">.</span>_length <span class="token operator">=</span> fn<span class="token punctuation">.</span>length<span class="token punctuation">;</span>    
    <span class="token keyword">return</span> boundFn
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">nativeBind</span><span class="token punctuation">(</span><span class="token parameter">fn<span class="token punctuation">,</span> ctx</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    
    <span class="token keyword">return</span> <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>ctx<span class="token punctuation">)</span>

<span class="token punctuation">}</span>

<span class="token keyword">var</span> bind <span class="token operator">=</span> <span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>bind <span class="token operator">?</span>
    nativeBind <span class="token operator">:</span>
    polyfillBind<span class="token punctuation">;</span>
</code></pre></div><h4 id="函数参数"><a href="#函数参数" class="header-anchor">#</a> 函数参数</h4> <p><strong>props</strong></p> <p>接收组件传递过来的所有数据，并且都是响应式的。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>xx<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'App'</span><span class="token punctuation">,</span>
  props<span class="token operator">:</span> <span class="token punctuation">{</span>
      title<span class="token operator">:</span> <span class="token punctuation">{</span>
          type<span class="token operator">:</span> String
      <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>title<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><blockquote><p>注意一点，props数据不能使用解构，否则响应式数据失效</p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>蛙人<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'App'</span><span class="token punctuation">,</span>
  props<span class="token operator">:</span> <span class="token punctuation">{</span>
      title<span class="token operator">:</span> <span class="token punctuation">{</span>
          type<span class="token operator">:</span> String
      <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> title <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>title<span class="token punctuation">)</span> <span class="token comment">// 这里响应式数据将失效</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><p><strong>context</strong></p> <p>该参数提供一个上下文对象，从原来的2.x中选择性的暴露了一些属性。</p> <ul><li>attrs</li> <li>slots</li> <li>emit</li> <li>expose</li></ul> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>xx<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'App'</span><span class="token punctuation">,</span>
  props<span class="token operator">:</span> <span class="token punctuation">{</span>
      title<span class="token operator">:</span> <span class="token punctuation">{</span>
          type<span class="token operator">:</span> String
      <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> <span class="token punctuation">{</span> attrs<span class="token punctuation">,</span> slots<span class="token punctuation">,</span> emit<span class="token punctuation">,</span> expose <span class="token punctuation">}</span></span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>attrs<span class="token punctuation">)</span> 
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>上面，<code>attrs</code>和<code>slots</code>都是内部组件实例上对应项的代理，可以确保在更新后仍然还是最新的值。所以这里可以使用解构语法。</p> <p><code>attrs</code>还跟以前一样，在props中接收了就不会出现在这里。</p> <p>slots就是插槽</p> <h4 id="返回值"><a href="#返回值" class="header-anchor">#</a> 返回值</h4> <p>这里有两种</p> <ul><li><p>函数</p> <div class="language-vue extra-class"><pre class="language-vue"><code>setup () {
  return () =&gt; h('div', 'haha')
}
</code></pre></div></li> <li><p>对象</p></li></ul> <p>来看简化版源码</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">handleSetupResult</span><span class="token punctuation">(</span><span class="token parameter">instance<span class="token punctuation">,</span> setupResult</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// setup 返回值不一样的话，会有不同的处理</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> setupResult <span class="token operator">===</span> <span class="token string">&quot;function&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 如果返回的是 function 的话，那么绑定到 render 上</span>
    <span class="token comment">// 认为是 render 逻辑</span>
    <span class="token comment">// setup(){ return ()=&gt;(h(&quot;div&quot;)) }</span>
    instance<span class="token punctuation">.</span>render <span class="token operator">=</span> setupResult<span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> setupResult <span class="token operator">===</span> <span class="token string">&quot;object&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 返回的是一个对象的话</span>
    <span class="token comment">// 先存到 setupState 上</span>
    <span class="token comment">// 使用 @vue/reactivity 里面的 proxyRefs</span>
    <span class="token comment">// 方便用户直接访问 ref 类型的值</span>
    <span class="token comment">// 比如 setupResult 里面有个 count 是个 ref 类型的对象，用户使用的时候就可以直接使用 count 了，而不需要在 count.value</span>
    <span class="token comment">// 这里也就是官网里面说到的自动结构 Ref 类型</span>
    instance<span class="token punctuation">.</span>setupState <span class="token operator">=</span> <span class="token function">proxyRefs</span><span class="token punctuation">(</span>setupResult<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="生命周期钩子函数"><a href="#生命周期钩子函数" class="header-anchor">#</a> 生命周期钩子函数</h3> <p>Vue2的写法仍然适用</p> <p><img src="/vuepress-blog/assets/img/lifecycle.6f2c97f0.png" alt="img"></p> <p>下表包含如何在 <a href="https://v3.cn.vuejs.org/guide/composition-api-setup.html" target="_blank" rel="noopener noreferrer">setup ()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 内部调用生命周期钩子：</p> <table><thead><tr><th>选项式 API</th> <th>Hook inside <code>setup</code></th></tr></thead> <tbody><tr><td><code>beforeCreate</code></td> <td>Not needed*</td></tr> <tr><td><code>created</code></td> <td>Not needed*</td></tr> <tr><td><code>beforeMount</code></td> <td><code>onBeforeMount</code></td></tr> <tr><td><code>mounted</code></td> <td><code>onMounted</code></td></tr> <tr><td><code>beforeUpdate</code></td> <td><code>onBeforeUpdate</code></td></tr> <tr><td><code>updated</code></td> <td><code>onUpdated</code></td></tr> <tr><td><code>beforeUnmount</code></td> <td><code>onBeforeUnmount</code></td></tr> <tr><td><code>unmounted</code></td> <td><code>onUnmounted</code></td></tr> <tr><td><code>errorCaptured</code></td> <td><code>onErrorCaptured</code></td></tr> <tr><td><code>renderTracked</code></td> <td><code>onRenderTracked</code></td></tr> <tr><td><code>renderTriggered</code></td> <td><code>onRenderTriggered</code></td></tr> <tr><td><code>activated</code></td> <td><code>onActivated</code></td></tr> <tr><td><code>deactivated</code></td> <td><code>onDeactivated</code></td></tr></tbody></table> <p>TIP</p> <p>因为 <code>setup</code> 是围绕 <code>beforeCreate</code> 和 <code>created</code> 生命周期钩子运行的，所以不需要显式地定义它们。换句话说，在这些钩子中编写的任何代码都应该直接在 <code>setup</code> 函数中编写。</p> <p>这些函数接受一个回调函数，当钩子被组件调用时将会被执行:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// MyBook.vue</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// mounted</span>
    <span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Component is mounted!'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="响应式系统-api"><a href="#响应式系统-api" class="header-anchor">#</a> 响应式系统 API</h3> <h4 id="reactive"><a href="#reactive" class="header-anchor">#</a> reactive</h4> <p>该方法接收一个参数<code>{}</code>创建一个响应式对象。跟Vue2.x的<code>Vue.observable</code>一样。如果该参数不是对象的话，也可以渲染到模板上，但不是响应式的数据。</p> <p>响应式转换是“深层的”：会影响对象内部所有嵌套的属性。基于 ES2015 的 Proxy 实现，返回的代理对象<strong>不等于</strong>原始对象。建议仅使用代理对象而避免依赖原始对象。</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>test<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>姓名:  {{ name.value }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>{{ test() }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> reactive <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'test'</span><span class="token punctuation">,</span>
  <span class="token function">setup</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span> value<span class="token operator">:</span> <span class="token string">'xx'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">function</span> <span class="token function">test</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      name<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">'abc'</span> <span class="token comment">// 该方法测试响应式数据，可以看到执行完该方法视图也会发生改变</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      name<span class="token punctuation">,</span>
      test
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><h4 id="ref"><a href="#ref" class="header-anchor">#</a> ref</h4> <p>该方法接收一个参数，可以是单个值，也可以是一个对象，并且都是响应式的数据。当传入一个对象时<code>{}</code>，内部将调用<code>reactive</code>方法进行转换为响应式数据。返回值里面带有<code>.value</code>属性取值，当使用模板渲染的时候可省去<code>.value</code>。</p> <p>说白了就是<code>reactive({value: 原始数据})</code></p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>test<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    姓名:  {{ name }}
    {{ test() }}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'test'</span><span class="token punctuation">,</span>
  <span class="token function">setup</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">'xx'</span><span class="token punctuation">)</span>
    <span class="token keyword">function</span> <span class="token function">test</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      name<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">'abc'</span> <span class="token comment">// 只是渲染模板可以省略.value，但是在逻辑中还得写哦</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      name<span class="token punctuation">,</span>
      test
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><h4 id="reactive、ref两者区别"><a href="#reactive、ref两者区别" class="header-anchor">#</a> reactive、ref两者区别</h4> <p>两者分别适用场合：</p> <ol><li><code>ref</code>可以为基本类型添加响应式，也可以为引用类型添加响应式，<code>reactive</code>只能为引用类型添加响应式。</li> <li>对于引用类型，什么时候用<code>ref</code>，什么时候用<code>reactive</code>？简单说，如果你只打算修改引用类型的一个属性，那么推荐用<code>reactive</code>，如果你打算变量重赋值，那么一定要用<code>ref</code>。</li></ol> <h4 id="shallowreactive"><a href="#shallowreactive" class="header-anchor">#</a> shallowReactive</h4> <p>打印的话，乍一看没有区别，但是，shallow的中文意义是“浅层的”，shallowReactive不代理深层property，只会指向原始对象的深层property。</p> <p>注意，给shallowReactive传入Proxy是没有意义的，即便这么做，直接返回该Proxy。</p> <p>shallowReactive的用途是：如果一个对象的深层不可能变化，那么就没必要深层响应，这时候用shallowReactive可以节省系统开销。</p> <p>下例中，按下第2个button不会有反应，只有又去按下第1个button之后，<strong>视图刷新</strong>，第二个button才有反应。</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>r.b.c++<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>count is: {{ r.b.c }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>s.b.c++<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>count is: {{ s.b.c }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> reactive<span class="token punctuation">,</span> shallowReactive <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> r <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>a<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token punctuation">{</span>c<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> s <span class="token operator">=</span> <span class="token function">shallowReactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>a<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token punctuation">{</span>c<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      r<span class="token punctuation">,</span>s
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="shallowref"><a href="#shallowref" class="header-anchor">#</a> shallowRef</h4> <p>shallowRef的作用是只对value添加响应式，因此，必须是value被重新赋值才会触发响应式。shallowRef的出现主要是为了节省系统开销。</p> <p>下例中，点击button1会有反应，点击button2不会有反应。关键是点击button3，我们知道在<code>&lt;template&gt;</code>里，如果给s重新赋值，其实相当于给s.value重新赋值，由于value是响应式的，这时候button2和button3都会有变化。</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>r.b.c++<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>count is: {{ r.b.c }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>s.b.c++<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>count is: {{ s.b.c }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>s = { a: 10, b: { c: 20 } }<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>count is: {{ s.b.c }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref<span class="token punctuation">,</span> shallowRef <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">setup</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> r <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token punctuation">{</span> c<span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> s <span class="token operator">=</span> <span class="token function">shallowRef</span><span class="token punctuation">(</span><span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token punctuation">{</span> c<span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      r<span class="token punctuation">,</span>
      s
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="computed"><a href="#computed" class="header-anchor">#</a> computed</h4> <p>该方法可以传入一个函数，默认该函数就是<code>getter</code>，不管<code>getter</code>返回值为一个<code>ref</code>响应式数据还是一个<code>普通变量</code>，数据都是<code>只读</code>不能改变。</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref<span class="token punctuation">,</span> computed <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
 name<span class="token operator">:</span> <span class="token string">'test'</span><span class="token punctuation">,</span>
 <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">&quot;xx&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">let</span> test <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> name<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    test<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">&quot;123&quot;</span> <span class="token comment">// 修改无效，只能只读</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>如果修改了computed对象，则控制台会报一个警告</p> <div class="language- extra-class"><pre class="language-text"><code>Write operation failed: computed value is readonly
</code></pre></div><p>传入一个对象<code>set</code>和<code>get</code>函数方法，这样就可以修改啦</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref<span class="token punctuation">,</span> computed <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
 name<span class="token operator">:</span> <span class="token string">'test'</span><span class="token punctuation">,</span>
 <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">&quot;xx&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">let</span> test <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> name<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function">set</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> name<span class="token punctuation">.</span>value <span class="token operator">=</span> val<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    test<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">&quot;123&quot;</span> 
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="readonly"><a href="#readonly" class="header-anchor">#</a> readonly</h4> <p>该方法接收传入一个对象，默认是只读功能，是深层对象只读，不管嵌套多少层的属性都是只读状态。</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> readonly <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
 name<span class="token operator">:</span> <span class="token string">'test'</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token string">&quot;xx&quot;</span><span class="token punctuation">,</span>
        sex<span class="token operator">:</span> <span class="token string">&quot;male&quot;</span><span class="token punctuation">,</span>
        prodution<span class="token operator">:</span> <span class="token punctuation">{</span>
            proName<span class="token operator">:</span> <span class="token string">&quot;音响&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">let</span> only <span class="token operator">=</span> <span class="token function">readonly</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
    only<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;yy&quot;</span> <span class="token comment">// 修改无效</span>
    only<span class="token punctuation">.</span>prodution<span class="token punctuation">.</span>proName <span class="token operator">=</span> <span class="token string">&quot;欢迎关注&quot;</span> <span class="token comment">// 修改无效</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>only<span class="token punctuation">)</span> 
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><h4 id="shallowreadonly"><a href="#shallowreadonly" class="header-anchor">#</a> shallowReadonly</h4> <p>就像reactive与shallowReactive的一样，shallowReadonly只会给对象的第一层property设置只读，不去管深层property，因此深层property<strong>并没有被代理</strong>，只会指向原始对象。</p> <p>下例中：</p> <p>按下button1会有报错提示：<code>Set operation on key &quot;c&quot; failed: target is readonly.</code>，因为r是深层只读的。</p> <p>按下button2没有任何反应，因为shallowReadonly的深层是指向原始值的，修改原始对象不会反映到视图上。</p> <p>按下button3也会有报错提示：<code>Set operation on key &quot;a&quot; failed: target is readonly.</code>，因为shallowReadonly是浅层只读的，a恰好是浅层property。</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>r.b.c++<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>count is: {{ r.b.c }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>s.b.c++<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>count is: {{ s.b.c }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>s.a++<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>count is: {{ s.a }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> readonly<span class="token punctuation">,</span> shallowReadonly <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> r <span class="token operator">=</span> <span class="token function">readonly</span><span class="token punctuation">(</span><span class="token punctuation">{</span>a<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token punctuation">{</span>c<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> s <span class="token operator">=</span> <span class="token function">shallowReadonly</span><span class="token punctuation">(</span><span class="token punctuation">{</span>a<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token punctuation">{</span>c<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      r<span class="token punctuation">,</span>s
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="watcheffect"><a href="#watcheffect" class="header-anchor">#</a> watchEffect</h4> <p>该方法接收一个函数并且立即执行，并当该函数里的变量变更时，重新执行该函数。该方法无法获取到原值，只能是改变之后的值。</p> <blockquote><p>如果要监听哪个值，需要在该函数里写出来，否则监听无效</p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> ref<span class="token punctuation">,</span> watchEffect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
 name<span class="token operator">:</span> <span class="token string">'test'</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">&quot;xx&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> age <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">23</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">watchEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>age<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        name<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">&quot;yy&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">)</span>

    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        age<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token number">18</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><p><strong>取消监听</strong></p> <p>有时候我们想在触发一定的条件后取消监听。这时可以执行<code>watchEffect</code>的返回值。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> ref<span class="token punctuation">,</span> watchEffect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
 name<span class="token operator">:</span> <span class="token string">'test'</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">&quot;xx&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> age <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">23</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> stop <span class="token operator">=</span> <span class="token function">watchEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        name<span class="token punctuation">.</span>value<span class="token punctuation">;</span> <span class="token comment">// 监听name</span>
        age<span class="token punctuation">.</span>value<span class="token punctuation">;</span>  <span class="token comment">// 监听age</span>
        
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>age<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        name<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">&quot;yy&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">)</span>

    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        age<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token number">18</span><span class="token punctuation">;</span>
        <span class="token function">setTimeout</span><span class="token punctuation">(</span>stop<span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><h4 id="watch"><a href="#watch" class="header-anchor">#</a> watch</h4> <p><code>watch</code>等同于Vue2.x中的<code>this.$watch</code>，<code>watch</code>需要监听特定数据，默认情况是懒执行，也就是只有当数据发生变化时才执行第二个参数函数。</p> <p>对比<code>WatchEffect</code> ，<code>Watch</code>允许我们</p> <ul><li>懒执行函数</li> <li>更明确哪些状态改变触发监听器</li> <li>可以监听获取到变化前后的值</li></ul> <p><strong>监听单个值</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref<span class="token punctuation">,</span> watch <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
 name<span class="token operator">:</span> <span class="token string">'test'</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">&quot;蛙人&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">watch</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">newVal<span class="token punctuation">,</span> oldVal</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newVal<span class="token punctuation">,</span> oldVal<span class="token punctuation">)</span> <span class="token comment">// 前端娱乐圈， 蛙人</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        name<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">&quot;前端娱乐圈&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>

  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><p><strong>监听多个值</strong></p> <p>监听多个值，返回的是一个数组对象。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref<span class="token punctuation">,</span> watch <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
 name<span class="token operator">:</span> <span class="token string">'test'</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">&quot;蛙人&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> age <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">23</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">watch</span><span class="token punctuation">(</span><span class="token punctuation">[</span>name<span class="token punctuation">,</span> age<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">newVal<span class="token punctuation">,</span> oldVal</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newVal<span class="token punctuation">,</span> oldVal<span class="token punctuation">)</span> <span class="token comment">// [&quot;前端娱乐圈&quot;, 18], [&quot;蛙人&quot;, 23]</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        name<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">&quot;前端娱乐圈&quot;</span>
        age<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token number">18</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>

  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><h3 id="事件emit"><a href="#事件emit" class="header-anchor">#</a> 事件emit</h3> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>hello world<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span> <span class="token punctuation">&quot;</span>go<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btn btn-success<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>go<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
 
 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>defineComponent<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    emits<span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">'haha'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
   <span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">prop<span class="token punctuation">,</span>context</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
       <span class="token keyword">const</span> methods <span class="token operator">=</span> <span class="token punctuation">{</span>
           <span class="token function">go</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
               context<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&quot;haha&quot;</span><span class="token punctuation">)</span>
           <span class="token punctuation">}</span>
       <span class="token punctuation">}</span>
       <span class="token keyword">return</span> <span class="token punctuation">{</span>
           <span class="token operator">...</span>methods
       <span class="token punctuation">}</span>
   <span class="token punctuation">}</span> 
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>之所以要写emits，是当发送的事件名与原生事件名相同时，会触发两次事件</p> <p>不写emits事件也能发送出去，不过还是建议写上，一来解决冲突问题，二是可以更好的指示组件的工作方式，一眼就能看出来有什么事件会发送。</p> <h3 id="模板-refs"><a href="#模板-refs" class="header-anchor">#</a> 模板 Refs</h3> <p>该方法相当于Vue2.x的<code>refs</code>一样获取元素，那么在<code>setup</code>中配合使用<code>ref</code>对象进行获取</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>test<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>el<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>123<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref<span class="token punctuation">,</span> onMounted <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
 name<span class="token operator">:</span> <span class="token string">'test'</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> el <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
    <span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
         console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>el<span class="token punctuation">)</span> <span class="token comment">// p标签元素</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        el
    <span class="token punctuation">}</span>
    
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>用起来感觉挺奇怪的。</p> <p>先创建一个响应式对象，然后在template上用ref标上这个值，跟以前的写法还是有蛮大区别的</p> <p>具体源码逻辑：</p> <div class="language- extra-class"><pre class="language-text"><code>这里我们将 `root` 暴露在渲染上下文中，并通过 `ref=&quot;root&quot;` 绑定到 `div` 作为其 `ref`。 在 Virtual DOM patch 算法中，如果一个 VNode 的 `ref` 对应一个渲染上下文中的 ref，则该 VNode 对应的元素或组件实例将被分配给该 ref。 这是在 Virtual DOM 的 mount / patch 过程中执行的，因此模板 ref 仅在渲染初始化后才能访问。

ref 被用在模板中时和其他 ref 一样：都是响应式的，并可以传递进组合函数（或从其中返回）。
</code></pre></div><p><strong>在 <code>v-for</code> 中使用</strong></p> <p>模板 ref 在 <code>v-for</code> 中使用 vue 没有做特殊处理，需要使用<strong>函数型的 ref</strong>（3.0 提供的新功能）来自定义处理方式：</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>(item, i) in list<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>el =&gt; { divs[i] = el }<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    {{ item }}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{</span> ref<span class="token punctuation">,</span> reactive<span class="token punctuation">,</span> onBeforeUpdate <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>

  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> list <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
      <span class="token keyword">const</span> divs <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

      <span class="token comment">// 确保在每次变更之前重置引用</span>
      <span class="token function">onBeforeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        divs<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>

      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        list<span class="token punctuation">,</span>
        divs<span class="token punctuation">,</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>在2.x中对v-for元素使用ref，获取的是该循环出来的dom组成的数组，现在实验了一下，出来的是最后一个元素了。</p> <h3 id="provide-inject"><a href="#provide-inject" class="header-anchor">#</a> Provide &amp;&amp; Inject</h3> <p>该方法和Vue2.x的 <code>provide</code>、<code>inject</code>一样的。但是Vue3新特性这俩方法只能在<code>setup</code>中使用。</p> <ul><li>Provide：接收2个参数，第一个<code>key</code>值，第二个<code>value</code>值，进行传递</li> <li>Inject：接收2个参数，第一个是<code>provide</code>的<code>key</code>值，默认第二个参数可选，可以设置默认值(当找不到key值，设置一个默认值)</li></ul> <p><strong>App.vue</strong></p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> test <span class="token keyword">from</span> <span class="token string">&quot;./components/test&quot;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> provide<span class="token punctuation">,</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'App'</span><span class="token punctuation">,</span>
  components<span class="token operator">:</span> <span class="token punctuation">{</span>
    test
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">&quot;蛙人&quot;</span><span class="token punctuation">)</span>
    <span class="token function">provide</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span> <span class="token comment">// 传入一个响应式数据</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><strong>test.vue</strong></p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
	{{ NAME }}    
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> inject<span class="token punctuation">,</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
 name<span class="token operator">:</span> <span class="token string">'test'</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> <span class="token constant">NAME</span> <span class="token operator">=</span> <span class="token function">inject</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">NAME</span><span class="token punctuation">)</span>
      
    <span class="token keyword">let</span> title <span class="token operator">=</span> <span class="token function">inject</span><span class="token punctuation">(</span><span class="token string">&quot;key&quot;</span><span class="token punctuation">,</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>title<span class="token punctuation">)</span> <span class="token comment">// 这时就会触发默认值，因为这里找不到这个key值</span>
      
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token constant">NAME</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li>只要是App.vue的子孙组件，都能inject到</li> <li>子组件有provide父组件同名的，则优先最近的</li> <li>子组件修改ref来的，会直接修改源数据</li></ul> <h3 id="响应式系统工具集"><a href="#响应式系统工具集" class="header-anchor">#</a> 响应式系统工具集</h3> <h4 id="unref"><a href="#unref" class="header-anchor">#</a> unref</h4> <p>如果参数是一个 ref 则返回它的 <code>value</code>，否则返回参数本身。它是 <code>val = isRef(val) ? val.value : val</code> 的语法糖。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">useFoo</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token operator">:</span> number <span class="token operator">|</span> Ref<span class="token operator">&lt;</span>number<span class="token operator">&gt;</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> unwrapped <span class="token operator">=</span> <span class="token function">unref</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token comment">// unwrapped 一定是 number 类型</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="toref"><a href="#toref" class="header-anchor">#</a> toRef</h4> <p><code>toRef</code> 可以用来为一个 reactive 对象的属性创建一个 ref。这个 ref 可以被传递并且能够保持响应性。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> state <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  foo<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  bar<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> fooRef <span class="token operator">=</span> <span class="token function">toRef</span><span class="token punctuation">(</span>state<span class="token punctuation">,</span> <span class="token string">'foo'</span><span class="token punctuation">)</span>

fooRef<span class="token punctuation">.</span>value<span class="token operator">++</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>state<span class="token punctuation">.</span>foo<span class="token punctuation">)</span> <span class="token comment">// 2</span>

state<span class="token punctuation">.</span>foo<span class="token operator">++</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fooRef<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token comment">// 3</span>
</code></pre></div><p>当您要将一个 prop 中的属性作为 ref 传给组合逻辑函数时，<code>toRef</code> 就派上了用场：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">useSomeFeature</span><span class="token punctuation">(</span><span class="token function">toRef</span><span class="token punctuation">(</span>props<span class="token punctuation">,</span> <span class="token string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="torefs"><a href="#torefs" class="header-anchor">#</a> toRefs</h4> <p>把一个响应式对象转换成普通对象，该普通对象的每个 property 都是一个 ref ，和响应式对象 property 一一对应。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> state <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  foo<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  bar<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> stateAsRefs <span class="token operator">=</span> <span class="token function">toRefs</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span>
<span class="token comment">/*
stateAsRefs 的类型如下:

{
  foo: Ref&lt;number&gt;,
  bar: Ref&lt;number&gt;
}
*/</span>

<span class="token comment">// ref 对象 与 原属性的引用是 &quot;链接&quot; 上的</span>
state<span class="token punctuation">.</span>foo<span class="token operator">++</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stateAsRefs<span class="token punctuation">.</span>foo<span class="token punctuation">)</span> <span class="token comment">// 2</span>

stateAsRefs<span class="token punctuation">.</span>foo<span class="token punctuation">.</span>value<span class="token operator">++</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>state<span class="token punctuation">.</span>foo<span class="token punctuation">)</span> <span class="token comment">// 3</span>
</code></pre></div><p>当想要从一个组合逻辑函数中返回响应式对象时，用 <code>toRefs</code> 是很有效的，该 API 让消费组件可以 解构 / 扩展（使用 <code>...</code> 操作符）返回的对象，并不会丢失响应性：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">useFeatureX</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> state <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    foo<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    bar<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token comment">// 对 state 的逻辑操作</span>

  <span class="token comment">// 返回时将属性都转为 ref</span>
  <span class="token keyword">return</span> <span class="token function">toRefs</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 可以解构，不会丢失响应性</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> foo<span class="token punctuation">,</span> bar <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useFeatureX</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      foo<span class="token punctuation">,</span>
      bar<span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="isref"><a href="#isref" class="header-anchor">#</a> isRef</h4> <p>检查一个值是否为一个 ref 对象。</p> <h4 id="isproxy"><a href="#isproxy" class="header-anchor">#</a> isProxy</h4> <p>检查一个对象是否是由 <code>reactive</code> 或者 <code>readonly</code> 方法创建的代理。</p> <h4 id="isreactiv"><a href="#isreactiv" class="header-anchor">#</a> isReactiv</h4> <p>检查一个对象是否是由 <code>reactive</code> 创建的响应式代理。</p> <p>如果这个代理是由 <code>readonly</code> 创建的，但是又被 <code>reactive</code> 创建的另一个代理包裹了一层，那么同样也会返回 <code>true</code>。</p> <h4 id="isreadonly"><a href="#isreadonly" class="header-anchor">#</a> isReadonly</h4> <p>检查一个对象是否是由 <code>readonly</code> 创建的只读代理。</p> <h3 id="v-model"><a href="#v-model" class="header-anchor">#</a> v-model</h3> <h4 id="自定义写法"><a href="#自定义写法" class="header-anchor">#</a> 自定义写法</h4> <p>Input.vue</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>title<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@input</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>input<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'Input'</span><span class="token punctuation">,</span>
  props<span class="token operator">:</span> <span class="token punctuation">{</span>
    title<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token function-variable function">default</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token string">'haha'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  model<span class="token operator">:</span> <span class="token punctuation">{</span>
    prop<span class="token operator">:</span> <span class="token string">'title'</span><span class="token punctuation">,</span>
    event<span class="token operator">:</span> <span class="token string">'inputSome'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">input</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'inputSome'</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><p>父组件</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Input</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>title<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Input</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>可以见得，在父组件是不关心子组件用什么值来接收。子组件写好model即可。</p> <p><strong>下面来看看Vue3的写法：</strong></p> <p>Input.vue</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>title<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@input</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>input<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'Input'</span><span class="token punctuation">,</span>
  props<span class="token operator">:</span> <span class="token punctuation">{</span>
    title<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token function-variable function">default</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token string">'haha'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">input</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'update:title'</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><p>父组件</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Input</span> <span class="token attr-name"><span class="token namespace">v-model:</span>title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>title<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Input</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>父组件中需指定子组件用于接收值的键名，子组件通过发送update：键名来告知父组件值发生了变化</p> <h4 id="绑定多个"><a href="#绑定多个" class="header-anchor">#</a> 绑定多个</h4> <p>父组件</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  {{title}}
  {{name}}

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Input</span> <span class="token attr-name"><span class="token namespace">v-model:</span>title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>title<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">v-model:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> Input <span class="token keyword">from</span> <span class="token string">&quot;./components/Input&quot;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'App'</span><span class="token punctuation">,</span>
  components<span class="token operator">:</span> <span class="token punctuation">{</span>
    Input<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      title<span class="token operator">:</span> <span class="token string">&quot;haha&quot;</span><span class="token punctuation">,</span>
      name<span class="token operator">:</span> <span class="token string">&quot;www&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>子组件</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Input<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@input</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>first<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>title<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@input</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>last<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
 name<span class="token operator">:</span> <span class="token string">'Input'</span><span class="token punctuation">,</span>
  props<span class="token operator">:</span> <span class="token punctuation">{</span>
    title<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token function-variable function">default</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token string">&quot;xx&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token function-variable function">default</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token string">&quot;11&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token function">first</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">&quot;update:title&quot;</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token function">last</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">&quot;update:name&quot;</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>这么看来，就相当于之前的sync修饰符的写法:</p> <p>父组件</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Input</span> <span class="token attr-name">:startTime.sync</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>startDate<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Input</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>子组件发送事件</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'update:startTime'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>start<span class="token punctuation">)</span>
</code></pre></div><p>只不过把sync名字改成了v-model而已</p> <h4 id="新增修饰符"><a href="#新增修饰符" class="header-anchor">#</a> 新增修饰符</h4> <p>Vue3.x中，添加了可以自定义修饰符，如Api提供的内置方法<code>.trim</code>，新特性我们也可以自定义啦。下面就来演示一下写一个转换字符串大写的修饰符。</p> <p><strong>App.vue</strong></p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Input</span> <span class="token attr-name"><span class="token namespace">v-model:</span>str.capitalize</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>modelModifiers<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> Input <span class="token keyword">from</span> <span class="token string">&quot;./components/Input&quot;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'App'</span><span class="token punctuation">,</span>
  components<span class="token operator">:</span> <span class="token punctuation">{</span>
    Input
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><strong>Input.vue</strong></p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Input<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@input</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>send<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
 name<span class="token operator">:</span> <span class="token string">'Input'</span><span class="token punctuation">,</span>
  props<span class="token operator">:</span> <span class="token punctuation">{</span>
      str<span class="token operator">:</span> String<span class="token punctuation">,</span>
      strModifiers<span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token function-variable function">default</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token function">send</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">let</span> value <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value
          <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>strModifiers<span class="token punctuation">.</span>capitalize<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// capitalize 这里的值就是修饰符</span>
            value <span class="token operator">=</span> value<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
          <span class="token punctuation">}</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">&quot;update:str&quot;</span><span class="token punctuation">,</span> value<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>上面方法，modifiers 必须传入，必须写定义为一个空对象。</p> <blockquote><p>特别需要注意一点：如果你的<code>v-model</code>参数值为<code>str</code>，那么组件里面接收的值，全部为str开头，如：props里面的 strModifiers，str</p> <p>挺奇怪的写法</p></blockquote> <h3 id="自定义指令更改"><a href="#自定义指令更改" class="header-anchor">#</a> 自定义指令更改</h3> <p>在Vue3.x中自定义指定写法稍有更改，看下列。</p> <ul><li>bind --&gt; beforeMount 指令绑定到元素后发生。只发生一次</li> <li>inserted --&gt; mounted  元素插入到父DOM后发生</li> <li>beforeUpdate: Vue3.x新添加的，这是在元素更新之前调用，</li> <li>componentUpdated --&gt; updated</li> <li>beforeUnmount : Vue3.x新添加的，将在卸载元素前调用</li> <li>unbind --&gt; unmounted</li></ul> <p><strong>main.js</strong></p> <div class="language-vue extra-class"><pre class="language-vue"><code>import { createApp } from 'vue'
import App from './App.vue'

let main = createApp(App)
main.directive(&quot;custom&quot;, {
    beforeMount(el, attr) {
        console.log(el, attr)
    },
    updated() {
        console.log(&quot;updated&quot;)
    },
    unmounted() {
        console.log(&quot;移除&quot;)
    }
})
main.mount('#app')
</code></pre></div><p><strong>App.vue</strong></p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">v-custom</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>show<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'App'</span><span class="token punctuation">,</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      show<span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>show <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">)</span>
      
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>show <span class="token operator">=</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="teleport"><a href="#teleport" class="header-anchor">#</a> Teleport</h3> <p>Teleport 是 Vue3.x 新推出的功能， 没听过这个词的小伙伴可能会感到陌生；翻译过来是<code>传送</code>的意思，可能还是觉得不知所以，没事下边我就给大家形象的描述一下。</p> <h4 id="teleport-是什么呢"><a href="#teleport-是什么呢" class="header-anchor">#</a> Teleport 是什么呢？</h4> <p>Teleport 就像是哆啦 A 梦中的「任意门」，任意门的作用就是可以将人瞬间传送到另一个地方。有了这个认识，我们再来看一下为什么需要用到 Teleport 的特性呢，看一个小例子： 在子组件<code>Header</code>中使用到<code>Dialog</code>组件，我们实际开发中经常会在类似的情形下使用到 <code>Dialog</code> ，此时<code>Dialog</code>就被渲染到一层层子组件内部，处理嵌套组件的定位、<code>z-index</code>和样式都变得困难。 <code>Dialog</code>从用户感知的层面，应该是一个独立的组件，从 dom 结构应该完全剥离 Vue 顶层组件挂载的 DOM；同时还可以使用到 Vue 组件内的状态（<code>data</code>或者<code>props</code>）的值。简单来说就是,<strong>即希望继续在组件内部使用<code>Dialog</code>, 又希望渲染的 DOM 结构不嵌套在组件的 DOM 中</strong>。 此时就需要 Teleport 上场，我们可以用``包裹<code>Dialog</code>, 此时就建立了一个传送门，可以将<code>Dialog</code>渲染的内容传送到任何指定的地方。 接下来就举个小例子，看看 Teleport 的使用方式</p> <h4 id="teleport-的使用"><a href="#teleport-的使用" class="header-anchor">#</a> Teleport 的使用</h4> <p>我们希望 Dialog 渲染的 dom 和顶层组件是兄弟节点关系, 在<code>index.html</code>文件中定义一个供挂载的元素:</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dialog<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>定义一个<code>Dialog</code>组件<code>Dialog.vue</code>, 留意 <code>to</code> 属性， 与上面的<code>id</code>选择器一致：</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>teleport</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#dialog<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dialog<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dialog_wrapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dialog_header<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>title<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>header<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>{{ title }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dialog_content<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dialog_footer<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>footer<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>teleport</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>最后在一个子组件<code>Header.vue</code>中使用<code>Dialog</code>组件, 这里主要演示 Teleport 的使用，不相关的代码就省略了。<code>header</code>组件</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;div class=&quot;header&quot;&gt;
    ...
    &lt;navbar /&gt;
    &lt;Dialog v-if=&quot;dialogVisible&quot;&gt;&lt;/Dialog&gt;
&lt;/div&gt;
...
</code></pre></div><p>我们使用 <code>teleport</code> 组件，通过 <code>to</code> 属性，指定该组件渲染的位置与 <code>#app</code>同级，也就是在 <code>body</code> 下，但是 <code>Dialog</code> 的状态 <code>dialogVisible</code> 又是完全由内部 Vue 组件控制.</p> <h4 id="对比"><a href="#对比" class="header-anchor">#</a> 对比</h4> <p>像ext、element的弹窗直接就是在根节点下的，思路大致都是找到根节点再往其下添加节点。</p> <p>相比之下倒是觉得teleport不是很实用，还需要事先写好个dom，根据id去找</p> <h3 id="suspense"><a href="#suspense" class="header-anchor">#</a> Suspense</h3> <p><code>Suspense</code>是 Vue3.x 中新增的特性， 那它有什么用呢？别急，我们通过 Vue2.x 中的一些场景来认识它的作用。 Vue2.x 中应该经常遇到这样的场景：</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;template&gt;
&lt;div&gt;
    &lt;div v-if=&quot;!loading&quot;&gt;
        ...
    &lt;/div&gt;
    &lt;div v-if=&quot;loading&quot;&gt;
        加载中...
    &lt;/div&gt;
&lt;/div&gt;
&lt;/template&gt;
复制代码
</code></pre></div><p>在前后端交互获取数据时， 是一个异步过程，一般我们都会提供一个加载中的动画，当数据返回时配合<code>v-if</code>来控制数据显示。 如果你使用过<code>vue-async-manager</code>这个插件来完成上面的需求， 你对<code>Suspense</code>可能不会陌生，Vue3.x 感觉就是参考了<code>vue-async-manager</code>. Vue3.x 新出的内置组件<code>Suspense</code>, 它提供两个<code>template</code> slot, 刚开始会渲染一个 fallback 状态下的内容， 直到到达某个条件后才会渲染 default 状态的正式内容， 通过使用<code>Suspense</code>组件进行展示异步渲染就更加的简单。</p> <p>warning 如果使用 <code>Suspense</code>, 要返回一个 promise</p> <h4 id="使用"><a href="#使用" class="header-anchor">#</a> 使用：</h4> <div class="language-vue extra-class"><pre class="language-vue"><code>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Suspense</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#default</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>async-component</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>async-component</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#fallback</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
                Loading...
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Suspense</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><code>asyncComponent.vue</code>:</p> <div class="language-vue extra-class"><pre class="language-vue"><code>&lt;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h4</span><span class="token punctuation">&gt;</span></span>这个是一个异步加载数据<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h4</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>用户名：{{user.nickname}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>年龄：{{user.age}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span>
<span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">&quot;axios&quot;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">const</span> rawData <span class="token operator">=</span> <span class="token keyword">await</span> axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;http://xxx.xinp.cn/user&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            user<span class="token operator">:</span> rawData<span class="token punctuation">.</span>data
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>从上面代码来看，<code>Suspense</code> 只是一个带插槽的组件，只是它的插槽指定了<code>default</code> 和 <code>fallback</code> 两种状态。</p> <h4 id="对比-2"><a href="#对比-2" class="header-anchor">#</a> 对比</h4> <p>与写在axios中，自动显示loading效果相比，Suspense可能更适合pc端，像之前控制器的就有组件内部的loading效果，可以基于此封装一个通用的组件</p> <h3 id="fragment"><a href="#fragment" class="header-anchor">#</a> Fragment</h3> <p>Vue3.x中将不在限制模板中只有一个根节点，根组件可以任意多个元素。</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>首页<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>新闻<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>之前限制只能一个根节点，根据 Vue 贡献者 Linus Borg 的说法：</p> <blockquote><p>“允许 fragments 需要大幅改动比较算法……不仅需要它能正常工作，还要求它有较高的性能……这是一项相当繁重的任务……React 直到完全重写了渲染层才消除了这种限制。”</p></blockquote> <h3 id="全局方法"><a href="#全局方法" class="header-anchor">#</a> 全局方法</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./App.vue'</span>

<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 设置全局</span>
app<span class="token punctuation">.</span>config<span class="token punctuation">.</span>globalProperties<span class="token punctuation">.</span>$xxx <span class="token operator">=</span> <span class="token string">'xxx'</span><span class="token punctuation">;</span>



<span class="token comment">//使用</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>reactive<span class="token punctuation">,</span> onMounted<span class="token punctuation">,</span> getCurrentInstance <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> ctx<span class="token punctuation">,</span> proxy<span class="token punctuation">}</span>  <span class="token operator">=</span> <span class="token function">getCurrentInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ctx<span class="token punctuation">.</span>$xxx<span class="token punctuation">)</span> <span class="token comment">// xxx </span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="改动的api"><a href="#改动的api" class="header-anchor">#</a> 改动的api</h2> <h3 id="移除过滤器filters"><a href="#移除过滤器filters" class="header-anchor">#</a> 移除过滤器filters</h3> <p>在Vue3.x中移除过滤器，不在支持。建议使用<code>computed</code>去替代。贴一个官网例子</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Bank Account Balance<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{ accountInUSD }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    props<span class="token operator">:</span> <span class="token punctuation">{</span>
      accountBalance<span class="token operator">:</span> <span class="token punctuation">{</span>
        type<span class="token operator">:</span> Number<span class="token punctuation">,</span>
        required<span class="token operator">:</span> <span class="token boolean">true</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    computed<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token function">accountInUSD</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">'$'</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>accountBalance
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>可能因为要精简代码，并且filter功能重复，filter能实现的功能，methods和计算属性基本上也可以实现。所以就干脆把filter这方面的vue源码给删掉了</p> <h3 id="废弃on-off-once实例方法"><a href="#废弃on-off-once实例方法" class="header-anchor">#</a> 废弃on，off，once实例方法</h3> <p>Vue3.x中 <code>$on</code>，<code>$off</code> 和 <code>$once</code> 实例方法已被移除，应用实例不再实现事件触发接口。</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
	<span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$on<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$once<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$off<span class="token punctuation">)</span> <span class="token comment">// undefined undefined undefined</span>
	<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>也就是说之前new Vue来做eventbus已经行不通了</p> <p>Vue3.x推荐使用外部库<a href="https://link.zhihu.com/?target=https%3A//github.com/developit/mitt" target="_blank" rel="noopener noreferrer">mitt<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>来代替 $on $emit $off</p> <blockquote><p>接下来部分是解读 mitt 源码</p></blockquote> <p><a href="https://link.zhihu.com/?target=https%3A//github.com/developit/mitt/blob/master/src/index.ts" target="_blank" rel="noopener noreferrer">mitt源码<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>使用的是typescript编写的，源码加注释一共不到90行，阅读起来比较轻松。typescript不是本次的重点，所以我将mitt源码以js的形式展示如下。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * 向外暴露的默认函数
 * @param 入参为 EventHandlerMap 对象 （ts真香，我们能清楚的知道参数的类型是什么，返回值是什么）
 * @returns 返回一个对象，对象包含属性 all，方法 on，off，emit
 */</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">mitt</span> <span class="token punctuation">(</span><span class="token parameter">all</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">/*
    此处实参可传一个EventHandlerMap对象，实现多个 mitt 的合并。例如：
    const m1 = mitt();
    m1.on('hi', () =&gt; { console.log('Hi, I am belongs to m1.'); });

    const m2 = mitt(m1.all);
    m2.emit('hi') // Hi, I am belongs to m1.
    m2.on('hello', () =&gt; { console.log('Hello, I am belongs to m2.'); });

    m1.emit('hello'); // Hello, I am belongs to m2.

    m1.all === m2.all // true
  */</span>
  all <span class="token operator">=</span> all <span class="token operator">||</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token comment">// 事件键值对映射对象</span>
    all<span class="token punctuation">,</span>

    <span class="token comment">/**
     * 注册一个命名的事件处理
     * @param type 事件名，官方表示事件名如是 *，用来标记为通用事件，调用任何事件，都会触发命名为 * 的事件
     * @param handler 事件处理函数
     */</span>
    <span class="token function">on</span> <span class="token punctuation">(</span><span class="token parameter">type<span class="token punctuation">,</span> handler</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 根据type去查找事件</span>
      <span class="token keyword">const</span> handlers <span class="token operator">=</span> all<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// 如果找到有相同的事件，则继续添加，Array.prototype.push 返回值为添加后的新长度，</span>
      <span class="token keyword">const</span> added <span class="token operator">=</span> handlers <span class="token operator">&amp;&amp;</span> handlers<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// 如果已添加了type事件，则不再执行set操作</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>added<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        all<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>type<span class="token punctuation">,</span> <span class="token punctuation">[</span>handler<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 注意此处值是数组类型，可以添加多个相同的事件</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token comment">/**
     * 移除指定的事件处理
     * @param type 事件名，和第二个参数一起用来移除指定的事件，
     * @param handler 事件处理函数
     */</span>
    <span class="token function">off</span> <span class="token punctuation">(</span><span class="token parameter">type<span class="token punctuation">,</span> handler</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 根据type去查找事件</span>
      <span class="token keyword">const</span> handlers <span class="token operator">=</span> all<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// 如果找到则进行删除操作</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>handlers<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 这里用了个骚操作，其实就是找到了，则删除(多个相同的只会删除找到的第一个)，没找到则不会对原数组有任何影响</span>
        handlers<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>handlers<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>handler<span class="token punctuation">)</span> <span class="token operator">&gt;&gt;&gt;</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token comment">/**
     * 触发所有 type 事件，如果有type为 * 的事件，则最后会执行。
     * @param type 事件名
     * @param evt 传递给处理函数的参数
     */</span>
    <span class="token function">emit</span> <span class="token punctuation">(</span><span class="token parameter">type<span class="token punctuation">,</span> evt</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 找到type的事件循环执行</span>
      <span class="token punctuation">(</span>all<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">handler</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token function">handler</span><span class="token punctuation">(</span>evt<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// 然后找到所有为*的事件，循环执行</span>
      <span class="token punctuation">(</span>all<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'*'</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">handler</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token function">handler</span><span class="token punctuation">(</span>type<span class="token punctuation">,</span> evt<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>代码还是相当的精简的，麻雀虽小，五脏俱全。</p> <p>接下来我们写几个例子来小牛试刀。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// emit 不是单例</span>
<span class="token keyword">const</span> m1 <span class="token operator">=</span> <span class="token function">mitt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> m2 <span class="token operator">=</span> <span class="token function">mitt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
m1 <span class="token operator">===</span> m2<span class="token punctuation">;</span> <span class="token comment">// false</span>

<span class="token comment">// 多个mitt之间可以实现合并，合并后的mitt的all属性指向的是同一个内存地址</span>
<span class="token keyword">const</span> m3 <span class="token operator">=</span> <span class="token function">mitt</span><span class="token punctuation">(</span>m2<span class="token punctuation">.</span>all<span class="token punctuation">)</span><span class="token punctuation">;</span>
m3<span class="token punctuation">.</span>all <span class="token operator">===</span> m2<span class="token punctuation">.</span>all<span class="token punctuation">;</span> <span class="token comment">// true</span>

m2<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'hi'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'我是m2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
m3<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">'hi'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 我是m2</span>

m2<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'*'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'我是公共的'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
m2<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">'hi'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 我是m2</span>
<span class="token comment">// 我是公共的</span>
</code></pre></div><p>到此我们已经学会如果使用 emitt 以及如何使用它了。</p> <h3 id="移除-set、-delete"><a href="#移除-set、-delete" class="header-anchor">#</a> 移除$set、$delete</h3> <h2 id="router"><a href="#router" class="header-anchor">#</a> Router</h2> <h3 id="vue2-x版本"><a href="#vue2-x版本" class="header-anchor">#</a> Vue2.x版本</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 0. 如果使用模块化机制编程，导入Vue和VueRouter，要调用 Vue.use(VueRouter)</span>

<span class="token comment">// 1. 定义 (路由) 组件。</span>
<span class="token comment">// 可以从其他文件 import 进来</span>
<span class="token keyword">const</span> Foo <span class="token operator">=</span> <span class="token punctuation">{</span> template<span class="token operator">:</span> <span class="token string">'&lt;div&gt;foo&lt;/div&gt;'</span> <span class="token punctuation">}</span>
<span class="token keyword">const</span> Bar <span class="token operator">=</span> <span class="token punctuation">{</span> template<span class="token operator">:</span> <span class="token string">'&lt;div&gt;bar&lt;/div&gt;'</span> <span class="token punctuation">}</span>

<span class="token comment">// 2. 定义路由</span>
<span class="token comment">// 每个路由应该映射一个组件。 其中&quot;component&quot; 可以是</span>
<span class="token comment">// 通过 Vue.extend() 创建的组件构造器，</span>
<span class="token comment">// 或者，只是一个组件配置对象。</span>
<span class="token comment">// 我们晚点再讨论嵌套路由。</span>
<span class="token keyword">const</span> routes <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span> path<span class="token operator">:</span> <span class="token string">'/foo'</span><span class="token punctuation">,</span> component<span class="token operator">:</span> Foo <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> path<span class="token operator">:</span> <span class="token string">'/bar'</span><span class="token punctuation">,</span> component<span class="token operator">:</span> Bar <span class="token punctuation">}</span>
<span class="token punctuation">]</span>

<span class="token comment">// 3. 创建 router 实例，然后传 `routes` 配置</span>
<span class="token comment">// 你还可以传别的配置参数, 不过先这么简单着吧。</span>
<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  mode<span class="token operator">:</span> <span class="token string">'hash'</span><span class="token punctuation">,</span>
  routes <span class="token comment">// (缩写) 相当于 routes: routes</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 4. 创建和挂载根实例。</span>
<span class="token comment">// 记得要通过 router 配置参数注入路由，</span>
<span class="token comment">// 从而让整个应用都有路由功能</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  router
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">$mount</span><span class="token punctuation">(</span><span class="token string">'#app'</span><span class="token punctuation">)</span>

</code></pre></div><h3 id="vue3版本"><a href="#vue3版本" class="header-anchor">#</a> Vue3版本</h3> <p>router.ts</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createRouter<span class="token punctuation">,</span> createWebHashHistory<span class="token punctuation">,</span> RouteRecordRaw <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue-router'</span>
<span class="token keyword">import</span> Home <span class="token keyword">from</span> <span class="token string">'../views/Home.vue'</span>

<span class="token keyword">const</span> routes<span class="token operator">:</span> Array<span class="token operator">&lt;</span>RouteRecordRaw<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">'Home'</span><span class="token punctuation">,</span>
    component<span class="token operator">:</span> Home
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">'/about'</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">'About'</span><span class="token punctuation">,</span>
    <span class="token comment">// route level code-splitting</span>
    <span class="token comment">// this generates a separate chunk (about.[hash].js) for this route</span>
    <span class="token comment">// which is lazy-loaded when the route is visited.</span>
    <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token comment">/* webpackChunkName: &quot;about&quot; */</span> <span class="token string">'../views/About.vue'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>

<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">createRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  history<span class="token operator">:</span> <span class="token function">createWebHashHistory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  routes
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> router

</code></pre></div><p>app.ts</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./App'</span>
<span class="token keyword">import</span> router <span class="token keyword">from</span> <span class="token string">'./router'</span>
<span class="token keyword">import</span> store <span class="token keyword">from</span> <span class="token string">'./store'</span>

<span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>store<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>router<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">'#app'</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="vuex"><a href="#vuex" class="header-anchor">#</a> VueX</h2> <h3 id="vue2-x版本-2"><a href="#vue2-x版本-2" class="header-anchor">#</a> Vue2.x版本</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> Vuex <span class="token keyword">from</span> <span class="token string">'vuex'</span>

Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Vuex<span class="token punctuation">)</span>

<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  state<span class="token operator">:</span> <span class="token punctuation">{</span>
    count<span class="token operator">:</span> <span class="token number">0</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  mutations<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">increment</span> <span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      state<span class="token punctuation">.</span>count<span class="token operator">++</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="vue3版本-2"><a href="#vue3版本-2" class="header-anchor">#</a> Vue3版本</h3> <p>store.ts</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vuex'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">createStore</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  state<span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  mutations<span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  actions<span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  modules<span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre></div><p>app.ts</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./App'</span>
<span class="token keyword">import</span> router <span class="token keyword">from</span> <span class="token string">'./router'</span>
<span class="token keyword">import</span> store <span class="token keyword">from</span> <span class="token string">'./store'</span>

<span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>store<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>router<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">'#app'</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="vue2迁移"><a href="#vue2迁移" class="header-anchor">#</a> Vue2迁移</h2> <p>emit</p> <h2 id="参考文档"><a href="#参考文档" class="header-anchor">#</a> 参考文档</h2> <p><a href="https://juejin.cn/post/6952671223989927943" target="_blank" rel="noopener noreferrer">一文带你掌握Vue3新特性，再也不怕面试官啦~<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://www.jianshu.com/p/cfe25e757d0e" target="_blank" rel="noopener noreferrer">全面解析Vue3 Reactive家族和Ref家族API<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://zhuanlan.zhihu.com/p/337221436" target="_blank" rel="noopener noreferrer">解读Vue3中废弃组件事件的$on，$off 和 $once 实例方法<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/vuepress-blog/blog/2021-06-21 gulp手写注入插件.html" class="prev">
        gulp手写注入插件
      </a></span> <span class="next"><a href="/vuepress-blog/blog/2021-06-10 js手写代码系列.html">
        js手写代码系列
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/vuepress-blog/assets/js/app.c1773bf8.js" defer></script><script src="/vuepress-blog/assets/js/2.52cbf88a.js" defer></script><script src="/vuepress-blog/assets/js/3.a1060374.js" defer></script>
  </body>
</html>
