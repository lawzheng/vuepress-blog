(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{432:function(n,t,e){"use strict";e.r(t);var s=e(70),a=Object(s.a)({},(function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[e("h1",{attrs:{id:"根据轮播图改变背景色"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#根据轮播图改变背景色"}},[n._v("#")]),n._v(" 根据轮播图改变背景色")]),n._v(" "),e("p",[e("img",{attrs:{src:"https://i.loli.net/2020/03/02/VdYIn5mcvJliOtZ.gif",alt:"1.gif"}})]),n._v(" "),e("h2",{attrs:{id:"实现思路"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#实现思路"}},[n._v("#")]),n._v(" 实现思路")]),n._v(" "),e("p",[n._v("轮播图这里直接就用swiper了，在切换事件里：")]),n._v(" "),e("p",[n._v("获得图片，用canvas画出，再调用getImageData获取某位置信息就可以做到了")]),n._v(" "),e("p",[n._v("话不多说。上代码")]),n._v(" "),e("h2",{attrs:{id:"代码"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#代码"}},[n._v("#")]),n._v(" 代码")]),n._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v('<!DOCTYPE html>\n<html lang="en">\n\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>Document</title>\n    <link rel="stylesheet" href="https://unpkg.com/swiper/css/swiper.min.css">\n    <script src="https://unpkg.com/swiper/js/swiper.min.js"><\/script>\n    <style>\n        .swiper-container {\n            width: 600px;\n        }\n        \n        .swiper-container img {\n            width: 100%;\n            height: 100%;\n        }\n    </style>\n</head>\n\n<body>\n    <div class="swiper-container">\n        <div class="swiper-wrapper">\n            <div class="swiper-slide"><img src="./1.jpg" alt=""></div>\n            <div class="swiper-slide"><img src="./2.jpg" alt=""></div>\n            <div class="swiper-slide"><img src="./3.jpg" alt=""></div>\n            <div class="swiper-slide"><img src="./4.jpg" alt=""></div>\n        </div>\n    </div>\n    <script>\n        var mySwiper = new Swiper(\'.swiper-container\', {\n            on: {\n                slideChangeTransitionStart: function() {\n                    console.log(\'改变了，activeIndex为\' + this.activeIndex);\n                    getImgColor(this.activeIndex)\n                },\n            },\n        })\n        const getImgColor = (index) => {\n            switch (index) {\n                case 0:\n                    img = \'./1.jpg\'\n                    break\n                case 1:\n                    img = \'./2.jpg\'\n                    break\n                case 2:\n                    img = \'./3.jpg\'\n                    break\n                case 3:\n                    img = \'./4.jpg\'\n                    break\n            }\n            const ima = new Image()\n            const canva = document.createElement(\'canvas\')\n            ima.src = img\n                // ima.crossOrigin = \'anonymous\' // 处理跨域图片 没用！\n            ima.onload = () => {\n                const ctx = canva.getContext(\'2d\')\n                ctx.drawImage(ima, 0, 0, 600, 600)\n\n                const [r, g, b, a] = ctx.getImageData(0, 0, 1, 1).data; // 获取背景色\n                document.body.style.background = `rgba(${r}, ${g}, ${b}, ${a})`\n            }\n        }\n        window.onload = () => {\n            getImgColor(0)\n        }\n    <\/script>\n</body>\n\n</html>\n')])])])])}),[],!1,null,null,null);t.default=a.exports}}]);