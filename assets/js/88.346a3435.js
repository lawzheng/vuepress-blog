(window.webpackJsonp=window.webpackJsonp||[]).push([[88],{511:function(a,e,t){"use strict";t.r(e);var s=t(70),r=Object(s.a)({},(function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h3",{attrs:{id:"初始化"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#初始化"}},[a._v("#")]),a._v(" 初始化")]),a._v(" "),t("p",[a._v("npm i webpack webpack-cli --save-dev")]),a._v(" "),t("h3",{attrs:{id:"各种loader"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#各种loader"}},[a._v("#")]),a._v(" 各种loader")]),a._v(" "),t("p",[a._v("npm i @babel/core @babel/preset-env babel-loader -D")]),a._v(" "),t("p",[a._v("npm i react react-dom @babel/preset-react -D")]),a._v(" "),t("p",[a._v("npm i style-loader css-loader -D")]),a._v(" "),t("p",[a._v("npm i less less-loader -D")]),a._v(" "),t("p",[a._v("npm i file-loader -D")]),a._v(" "),t("p",[a._v("npm i url-loader -D")]),a._v(" "),t("h3",{attrs:{id:"热更新"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#热更新"}},[a._v("#")]),a._v(" 热更新")]),a._v(" "),t("p",[a._v("1.package.json")]),a._v(" "),t("p",[a._v("加个--watch")]),a._v(" "),t("p",[a._v("缺点 必须自己刷新")]),a._v(" "),t("p",[a._v("2.webpack-dev-server")]),a._v(" "),t("h3",{attrs:{id:"文件指纹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#文件指纹"}},[a._v("#")]),a._v(" 文件指纹")]),a._v(" "),t("p",[a._v("npm i mini-css-extract-plugin -D")]),a._v(" "),t("p",[a._v("webpack中的hash、chunkhash、contenthash区别")]),a._v(" "),t("p",[a._v("hash 整个项目公用一个hash值")]),a._v(" "),t("p",[a._v("chunkhash 根据入口来 相同入口公用一个")]),a._v(" "),t("p",[a._v("contenthash  保证即使css文件所处的模块里就算其他文件内容改变，只要css文件内容不变，那么不会重复构建。")]),a._v(" "),t("h3",{attrs:{id:"压缩"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#压缩"}},[a._v("#")]),a._v(" 压缩")]),a._v(" "),t("h4",{attrs:{id:"css"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#css"}},[a._v("#")]),a._v(" css")]),a._v(" "),t("p",[a._v("npm i optimize-css-assets-webpack-plugin -D --registry=https://registry.npm.taobao.org")]),a._v(" "),t("p",[a._v("npm i cssnano -D")]),a._v(" "),t("h4",{attrs:{id:"html"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#html"}},[a._v("#")]),a._v(" html")]),a._v(" "),t("p",[a._v("npm i html-webpack-plugin -D")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("new HtmlWebpackPlugin({\n            template: path.join(__dirname, 'src/search.html'),\n            filename: 'search.html',\n            chunks: ['search'],\n            inject: true,\n            minify: {\n                html5: true,\n                collapseWhitespace: true,\n                preserveLineBreaks: false,\n                minifyCSS: true,\n                minifyJS: true,\n                removeComments: false\n            }\n        })\n")])])]),t("h3",{attrs:{id:"清除代码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#清除代码"}},[a._v("#")]),a._v(" 清除代码")]),a._v(" "),t("p",[a._v("npm i clean-webpack-plugin -D")]),a._v(" "),t("p",[a._v("const {CleanWebpackPlugin} = require('clean-webpack-plugin')")]),a._v(" "),t("p",[a._v("new CleanWebpackPlugin()")]),a._v(" "),t("h3",{attrs:{id:"css自动补前缀"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#css自动补前缀"}},[a._v("#")]),a._v(" css自动补前缀")]),a._v(" "),t("p",[a._v("npm i postcss-loader autoprefixer -D --registry=https://registry.npm.taobao.org")]),a._v(" "),t("p",[a._v("在less loader里加上")]),a._v(" "),t("h3",{attrs:{id:"px转rem"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#px转rem"}},[a._v("#")]),a._v(" px转rem")]),a._v(" "),t("p",[a._v("npm i  px2rem-loader -D")]),a._v(" "),t("p",[a._v("npm i lib-flexible -S")]),a._v(" "),t("h3",{attrs:{id:"内联"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#内联"}},[a._v("#")]),a._v(" 内联")]),a._v(" "),t("p",[a._v("npm i raw-loader@0.5.1 -D")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    ${ require('raw-loader!./meta.html')}\n    <title>Document</title>\n    <script>${require('raw-loader!babel-loader!../node_modules/lib-flexible/flexible.js')}<\/script>\n</head>\n<body>\n    <div id=\"root\"></div>\n</body>\n</html>\n")])])]),t("h3",{attrs:{id:"tree-shaking"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#tree-shaking"}},[a._v("#")]),a._v(" tree shaking")]),a._v(" "),t("p",[a._v("生产环境默认开启  去掉没用到的")]),a._v(" "),t("h3",{attrs:{id:"多页面打包"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#多页面打包"}},[a._v("#")]),a._v(" 多页面打包")]),a._v(" "),t("p",[a._v("npm i glob -D")]),a._v(" "),t("h3",{attrs:{id:"source-map"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#source-map"}},[a._v("#")]),a._v(" source-map")]),a._v(" "),t("p",[a._v("eval\t\t用eval包裹住代码 后面跟source")]),a._v(" "),t("p",[a._v("source-map\t生成单独的文件")]),a._v(" "),t("p",[a._v("inline-source-map\t 生成单独的map代码在js文件中")]),a._v(" "),t("h3",{attrs:{id:"scope-hosting"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#scope-hosting"}},[a._v("#")]),a._v(" scope hosting")]),a._v(" "),t("p",[a._v("开启后公用的模块成单独的函数，单独功能的直接内联进去")]),a._v(" "),t("p",[a._v("webpack4默认开启了")]),a._v(" "),t("h3",{attrs:{id:"代码切割"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#代码切割"}},[a._v("#")]),a._v(" 代码切割")]),a._v(" "),t("p",[a._v("npm i html-webpack-externals-plugin -D")]),a._v(" "),t("p",[a._v("const HtmlWebpackExternalsPlugin "),t("strong",[a._v("=")]),a._v(" require('html-webpack-externals-plugin')")]),a._v(" "),t("h3",{attrs:{id:"eslint"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#eslint"}},[a._v("#")]),a._v(" eslint")]),a._v(" "),t("p",[a._v("npm i eslint eslint-plugin-import eslint-plugin-react eslint-plugin-jsx-ally -D")]),a._v(" "),t("p",[a._v("npm i eslint-loader -D")]),a._v(" "),t("p",[a._v("npm i eslint-config-airbnb -D")]),a._v(" "),t("h3",{attrs:{id:"打包组件或基础库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#打包组件或基础库"}},[a._v("#")]),a._v(" 打包组件或基础库")]),a._v(" "),t("p",[a._v("npm login")]),a._v(" "),t("p",[a._v("npm publish")]),a._v(" "),t("p",[a._v("nrm ls")]),a._v(" "),t("p",[a._v("nrm use **")]),a._v(" "),t("p",[a._v("加上prepublish 发布时自动执行命令打包")]),a._v(" "),t("p",[a._v("js压缩")]),a._v(" "),t("p",[a._v("mode设为none   production模式自动会压缩")]),a._v(" "),t("p",[a._v("用TerserPlugin压缩")]),a._v(" "),t("p",[a._v("const TerserPlugin = require('terser-webpack-plugin')")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("optimization: {\n        minimize: true,\n        minimizer: [\n            new TerserPlugin({\n                include: /\\.min\\.js$/,\n            })\n        ]\n    }\n")])])]),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("entry: {\n        'large-number': './src/index.js',\n        'large-number.min': './src/index.js',\t// 多页面打包\n    },\n    output: {\n        filename: '[name].js',\n        library: 'largeNumber',\n        libraryTarget: 'umd',\t\t// 使得各种引入语法都能用\n        libraryExport: 'default'\t\t// 使得不需要largeNumber.default才能调用\n    },\n")])])]),t("h4",{attrs:{id:"最大数和"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#最大数和"}},[a._v("#")]),a._v(" 最大数和")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("export default function add(a, b) {\n    let i = a.length - 1;\n    let j = b.length - 1;\n\n    let carry = 0;\n    let ret = '';\n    while (i >= 0 || j >= 0) {\n        let x = 0;\n        let y = 0;\n        let sum;\n\n        if (i >= 0) {\n            x = a[i] - '0';\n            i--;\n        }\n\n        if (j >= 0) {\n            y = b[j] - '0';\n            j--;\n        }\n\n        sum = x + y + carry;\n\n        if (sum >= 10) {\n            carry = 1;\n            sum -= 10;\n        } else {\n            carry = 0;\n        }\n\n        ret = sum + ret;\n    }\n\n    if (carry) {\n        ret = carry + ret;\n    }\n\n    return ret;\n}\n")])])]),t("h3",{attrs:{id:"ssr"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ssr"}},[a._v("#")]),a._v(" ssr")]),a._v(" "),t("p",[a._v("新建个webpack配置")]),a._v(" "),t("p",[a._v("去src下文件夹找服务端渲染的文件")]),a._v(" "),t("p",[a._v("启个node服务 将打包好的渲染文件载入，用个html模板占位符替换dom和数据")]),a._v(" "),t("h3",{attrs:{id:"优化不需要日志"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#优化不需要日志"}},[a._v("#")]),a._v(" 优化不需要日志")]),a._v(" "),t("p",[a._v("stats")]),a._v(" "),t("p",[a._v("stats: 'errors-only'\t只报错")]),a._v(" "),t("p",[a._v("生产环境跟着写就是，开发环境要写到dev-server里去")]),a._v(" "),t("p",[a._v("更友好的方式")]),a._v(" "),t("p",[a._v("npm i friendly-errors-webpack-plugin -D")]),a._v(" "),t("p",[a._v("就是vue用的")]),a._v(" "),t("h4",{attrs:{id:"错误捕获"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#错误捕获"}},[a._v("#")]),a._v(" 错误捕获")]),a._v(" "),t("p",[a._v("echo $?")]),a._v(" "),t("h3",{attrs:{id:"构建通用配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#构建通用配置"}},[a._v("#")]),a._v(" 构建通用配置")]),a._v(" "),t("p",[a._v("npm i webpack-merge -D")]),a._v(" "),t("p",[a._v("npm i eslint eslint-config-airbnb-base babel-eslint -D")]),a._v(" "),t("p",[a._v('"eslint": "eslint ./lib --fix"')]),a._v(" "),t("h3",{attrs:{id:"冒烟测试"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#冒烟测试"}},[a._v("#")]),a._v(" 冒烟测试")]),a._v(" "),t("p",[a._v("npm i rimraf -D  移除dir")]),a._v(" "),t("p",[a._v("npm i mocha -D")]),a._v(" "),t("p",[a._v("npm i glob-all -D")]),a._v(" "),t("h4",{attrs:{id:"单元测试"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#单元测试"}},[a._v("#")]),a._v(" 单元测试")]),a._v(" "),t("p",[a._v("npm i assert -D\t断言")]),a._v(" "),t("p",[a._v("npm i istanbul -D  测试覆盖率")]),a._v(" "),t("h3",{attrs:{id:"持续集成"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#持续集成"}},[a._v("#")]),a._v(" 持续集成")]),a._v(" "),t("p",[a._v("travis ci")])])}),[],!1,null,null,null);e.default=r.exports}}]);